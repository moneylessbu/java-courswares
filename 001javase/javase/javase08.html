<!doctype html>
<html>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width initial-scale=1'>
    <title>JavaSE_第8章 异常</title>
    <link href='https://fonts.loli.net/css?family=PT+Serif:400,400italic,700,700italic&subset=latin,cyrillic-ext,cyrillic,latin-ext'
          rel='stylesheet' type='text/css'/>
    <style type='text/css'>html {
        overflow-x: initial !important;
    }

    :root {
        --bg-color: #ffffff;
        --text-color: #333333;
        --select-text-bg-color: #B5D6FC;
        --select-text-font-color: auto;
        --monospace: "Lucida Console", Consolas, "Courier", monospace;
    }

    html {
        font-size: 14px;
        background-color: var(--bg-color);
        color: var(--text-color);
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        -webkit-font-smoothing: antialiased;
    }

    body {
        margin: 0px;
        padding: 0px;
        height: auto;
        bottom: 0px;
        top: 0px;
        left: 0px;
        right: 0px;
        font-size: 1rem;
        line-height: 1.42857;
        overflow-x: hidden;
        background: inherit;
    }

    iframe {
        margin: auto;
    }

    a.url {
        word-break: break-all;
    }

    a:active, a:hover {
        outline: 0px;
    }

    .in-text-selection, ::selection {
        text-shadow: none;
        background: var(--select-text-bg-color);
        color: var(--select-text-font-color);
    }

    #write {
        margin: 0px auto;
        height: auto;
        width: inherit;
        word-break: normal;
        word-wrap: break-word;
        position: relative;
        white-space: normal;
        overflow-x: visible;
        padding-top: 40px;
    }

    #write.first-line-indent p {
        text-indent: 2em;
    }

    #write.first-line-indent li p, #write.first-line-indent p * {
        text-indent: 0px;
    }

    #write.first-line-indent li {
        margin-left: 2em;
    }

    .for-image #write {
        padding-left: 8px;
        padding-right: 8px;
    }

    body.typora-export {
        padding-left: 30px;
        padding-right: 30px;
    }

    .typora-export .footnote-line, .typora-export li, .typora-export p {
        white-space: pre-wrap;
    }

    @media screen and (max-width: 500px) {
        body.typora-export {
            padding-left: 0px;
            padding-right: 0px;
        }

        #write {
            padding-left: 20px;
            padding-right: 20px;
        }

        .CodeMirror-sizer {
            margin-left: 0px !important;
        }

        .CodeMirror-gutters {
            display: none !important;
        }
    }

    #write li > figure:first-child {
        margin-top: -20px;
    }

    #write ol, #write ul {
        position: relative;
    }

    img {
        max-width: 100%;
        vertical-align: middle;
    }

    button, input, select, textarea {
        color: inherit;
        font-style: inherit;
        font-variant: inherit;
        font-weight: inherit;
        font-stretch: inherit;
        font-size: inherit;
        line-height: inherit;
        font-family: inherit;
    }

    input[type="checkbox"], input[type="radio"] {
        line-height: normal;
        padding: 0px;
    }

    *, ::after, ::before {
        box-sizing: border-box;
    }

    #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre {
        width: inherit;
    }

    #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p {
        position: relative;
    }

    h1, h2, h3, h4, h5, h6 {
        break-after: avoid-page;
        break-inside: avoid;
        orphans: 2;
    }

    p {
        orphans: 4;
    }

    h1 {
        font-size: 2rem;
    }

    h2 {
        font-size: 1.8rem;
    }

    h3 {
        font-size: 1.6rem;
    }

    h4 {
        font-size: 1.4rem;
    }

    h5 {
        font-size: 1.2rem;
    }

    h6 {
        font-size: 1rem;
    }

    .md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p {
        margin-top: 1rem;
        margin-bottom: 1rem;
    }

    .hidden {
        display: none;
    }

    .md-blockmeta {
        color: rgb(204, 204, 204);
        font-weight: 700;
        font-style: italic;
    }

    a {
        cursor: pointer;
    }

    sup.md-footnote {
        padding: 2px 4px;
        background-color: rgba(238, 238, 238, 0.7);
        color: rgb(85, 85, 85);
        border-radius: 4px;
        cursor: pointer;
    }

    sup.md-footnote a, sup.md-footnote a:hover {
        color: inherit;
        text-transform: inherit;
        text-decoration: inherit;
    }

    #write input[type="checkbox"] {
        cursor: pointer;
        width: inherit;
        height: inherit;
    }

    figure {
        overflow-x: auto;
        margin: 1.2em 0px;
        max-width: calc(100% + 16px);
        padding: 0px;
    }

    figure > table {
        margin: 0px !important;
    }

    tr {
        break-inside: avoid;
        break-after: auto;
    }

    thead {
        display: table-header-group;
    }

    table {
        border-collapse: collapse;
        border-spacing: 0px;
        width: 100%;
        overflow: auto;
        break-inside: auto;
        text-align: left;
    }

    table.md-table td {
        min-width: 32px;
    }

    .CodeMirror-gutters {
        border-right: 0px;
        background-color: inherit;
    }

    .CodeMirror {
        text-align: left;
    }

    .CodeMirror-placeholder {
        opacity: 0.3;
    }

    .CodeMirror pre {
        padding: 0px 4px;
    }

    .CodeMirror-lines {
        padding: 0px;
    }

    div.hr:focus {
        cursor: none;
    }

    #write pre {
        white-space: pre-wrap;
    }

    #write.fences-no-line-wrapping pre {
        white-space: pre;
    }

    #write pre.ty-contain-cm {
        white-space: normal;
    }

    .CodeMirror-gutters {
        margin-right: 4px;
    }

    .md-fences {
        font-size: 0.9rem;
        display: block;
        break-inside: avoid;
        text-align: left;
        overflow: visible;
        white-space: pre;
        background: inherit;
        position: relative !important;
    }

    .md-diagram-panel {
        width: 100%;
        margin-top: 10px;
        text-align: center;
        padding-top: 0px;
        padding-bottom: 8px;
        overflow-x: auto;
    }

    #write .md-fences.mock-cm {
        white-space: pre-wrap;
    }

    .md-fences.md-fences-with-lineno {
        padding-left: 0px;
    }

    #write.fences-no-line-wrapping .md-fences.mock-cm {
        white-space: pre;
        overflow-x: auto;
    }

    .md-fences.mock-cm.md-fences-with-lineno {
        padding-left: 8px;
    }

    .CodeMirror-line, twitterwidget {
        break-inside: avoid;
    }

    .footnotes {
        opacity: 0.8;
        font-size: 0.9rem;
        margin-top: 1em;
        margin-bottom: 1em;
    }

    .footnotes + .footnotes {
        margin-top: 0px;
    }

    .md-reset {
        margin: 0px;
        padding: 0px;
        border: 0px;
        outline: 0px;
        vertical-align: top;
        background: 0px 0px;
        text-decoration: none;
        text-shadow: none;
        float: none;
        position: static;
        width: auto;
        height: auto;
        white-space: nowrap;
        cursor: inherit;
        -webkit-tap-highlight-color: transparent;
        line-height: normal;
        font-weight: 400;
        text-align: left;
        box-sizing: content-box;
        direction: ltr;
    }

    li div {
        padding-top: 0px;
    }

    blockquote {
        margin: 1rem 0px;
    }

    li .mathjax-block, li p {
        margin: 0.5rem 0px;
    }

    li {
        margin: 0px;
        position: relative;
    }

    blockquote > :last-child {
        margin-bottom: 0px;
    }

    blockquote > :first-child, li > :first-child {
        margin-top: 0px;
    }

    .footnotes-area {
        color: rgb(136, 136, 136);
        margin-top: 0.714rem;
        padding-bottom: 0.143rem;
        white-space: normal;
    }

    #write .footnote-line {
        white-space: pre-wrap;
    }

    @media print {
        body, html {
            border: 1px solid transparent;
            height: 99%;
            break-after: avoid;
            break-before: avoid;
        }

        #write {
            margin-top: 0px;
            padding-top: 0px;
            border-color: transparent !important;
        }

        .typora-export * {
            -webkit-print-color-adjust: exact;
        }

        html.blink-to-pdf {
            font-size: 13px;
        }

        .typora-export #write {
            padding-left: 32px;
            padding-right: 32px;
            padding-bottom: 0px;
            break-after: avoid;
        }

        .typora-export #write::after {
            height: 0px;
        }

        @page {
            margin: 20mm 0px;
        }
    }

    .footnote-line {
        margin-top: 0.714em;
        font-size: 0.7em;
    }

    a img, img a {
        cursor: pointer;
    }

    pre.md-meta-block {
        font-size: 0.8rem;
        min-height: 0.8rem;
        white-space: pre-wrap;
        background: rgb(204, 204, 204);
        display: block;
        overflow-x: hidden;
    }

    p > .md-image:only-child:not(.md-img-error) img, p > img:only-child {
        display: block;
        margin: auto;
    }

    p > .md-image:only-child {
        display: inline-block;
        width: 100%;
    }

    #write .MathJax_Display {
        margin: 0.8em 0px 0px;
    }

    .md-math-block {
        width: 100%;
    }

    .md-math-block:not(:empty)::after {
        display: none;
    }

    [contenteditable="true"]:active, [contenteditable="true"]:focus {
        outline: 0px;
        box-shadow: none;
    }

    .md-task-list-item {
        position: relative;
        list-style-type: none;
    }

    .task-list-item.md-task-list-item {
        padding-left: 0px;
    }

    .md-task-list-item > input {
        position: absolute;
        top: 0px;
        left: 0px;
        margin-left: -1.2em;
        margin-top: calc(1em - 10px);
        border: none;
    }

    .math {
        font-size: 1rem;
    }

    .md-toc {
        min-height: 3.58rem;
        position: relative;
        font-size: 0.9rem;
        border-radius: 10px;
    }

    .md-toc-content {
        position: relative;
        margin-left: 0px;
    }

    .md-toc-content::after, .md-toc::after {
        display: none;
    }

    .md-toc-item {
        display: block;
        color: rgb(65, 131, 196);
    }

    .md-toc-item a {
        text-decoration: none;
    }

    .md-toc-inner:hover {
        text-decoration: underline;
    }

    .md-toc-inner {
        display: inline-block;
        cursor: pointer;
    }

    .md-toc-h1 .md-toc-inner {
        margin-left: 0px;
        font-weight: 700;
    }

    .md-toc-h2 .md-toc-inner {
        margin-left: 2em;
    }

    .md-toc-h3 .md-toc-inner {
        margin-left: 4em;
    }

    .md-toc-h4 .md-toc-inner {
        margin-left: 6em;
    }

    .md-toc-h5 .md-toc-inner {
        margin-left: 8em;
    }

    .md-toc-h6 .md-toc-inner {
        margin-left: 10em;
    }

    @media screen and (max-width: 48em) {
        .md-toc-h3 .md-toc-inner {
            margin-left: 3.5em;
        }

        .md-toc-h4 .md-toc-inner {
            margin-left: 5em;
        }

        .md-toc-h5 .md-toc-inner {
            margin-left: 6.5em;
        }

        .md-toc-h6 .md-toc-inner {
            margin-left: 8em;
        }
    }

    a.md-toc-inner {
        font-size: inherit;
        font-style: inherit;
        font-weight: inherit;
        line-height: inherit;
    }

    .footnote-line a:not(.reversefootnote) {
        color: inherit;
    }

    .md-attr {
        display: none;
    }

    .md-fn-count::after {
        content: ".";
    }

    code, pre, samp, tt {
        font-family: var(--monospace);
    }

    kbd {
        margin: 0px 0.1em;
        padding: 0.1em 0.6em;
        font-size: 0.8em;
        color: rgb(36, 39, 41);
        background: rgb(255, 255, 255);
        border: 1px solid rgb(173, 179, 185);
        border-radius: 3px;
        box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset;
        white-space: nowrap;
        vertical-align: middle;
    }

    .md-comment {
        color: rgb(162, 127, 3);
        opacity: 0.8;
        font-family: var(--monospace);
    }

    code {
        text-align: left;
        vertical-align: initial;
    }

    a.md-print-anchor {
        white-space: pre !important;
        border-width: initial !important;
        border-style: none !important;
        border-color: initial !important;
        display: inline-block !important;
        position: absolute !important;
        width: 1px !important;
        right: 0px !important;
        outline: 0px !important;
        background: 0px 0px !important;
        text-decoration: initial !important;
        text-shadow: initial !important;
    }

    .md-inline-math .MathJax_SVG .noError {
        display: none !important;
    }

    .html-for-mac .inline-math-svg .MathJax_SVG {
        vertical-align: 0.2px;
    }

    .md-math-block .MathJax_SVG_Display {
        text-align: center;
        margin: 0px;
        position: relative;
        text-indent: 0px;
        max-width: none;
        max-height: none;
        min-height: 0px;
        min-width: 100%;
        width: auto;
        overflow-y: hidden;
        display: block !important;
    }

    .MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display {
        width: auto;
        margin: inherit;
        display: inline-block !important;
    }

    .MathJax_SVG .MJX-monospace {
        font-family: var(--monospace);
    }

    .MathJax_SVG .MJX-sans-serif {
        font-family: sans-serif;
    }

    .MathJax_SVG {
        display: inline;
        font-style: normal;
        font-weight: 400;
        line-height: normal;
        zoom: 90%;
        text-indent: 0px;
        text-align: left;
        text-transform: none;
        letter-spacing: normal;
        word-spacing: normal;
        word-wrap: normal;
        white-space: nowrap;
        float: none;
        direction: ltr;
        max-width: none;
        max-height: none;
        min-width: 0px;
        min-height: 0px;
        border: 0px;
        padding: 0px;
        margin: 0px;
    }

    .MathJax_SVG * {
        transition: none;
    }

    .MathJax_SVG_Display svg {
        vertical-align: middle !important;
        margin-bottom: 0px !important;
    }

    .os-windows.monocolor-emoji .md-emoji {
        font-family: "Segoe UI Symbol", sans-serif;
    }

    .md-diagram-panel > svg {
        max-width: 100%;
    }

    [lang="mermaid"] svg, [lang="flow"] svg {
        max-width: 100%;
    }

    [lang="mermaid"] .node text {
        font-size: 1rem;
    }

    table tr th {
        border-bottom: 0px;
    }

    video {
        max-width: 100%;
        display: block;
        margin: 0px auto;
    }

    iframe {
        max-width: 100%;
        width: 100%;
        border: none;
    }

    .highlight td, .highlight tr {
        border: 0px;
    }


    .CodeMirror {
        height: auto;
    }

    .CodeMirror.cm-s-inner {
        background: inherit;
    }

    .CodeMirror-scroll {
        overflow-y: hidden;
        overflow-x: auto;
        z-index: 3;
    }

    .CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler {
        background-color: rgb(255, 255, 255);
    }

    .CodeMirror-gutters {
        border-right: 1px solid rgb(221, 221, 221);
        background: inherit;
        white-space: nowrap;
    }

    .CodeMirror-linenumber {
        padding: 0px 3px 0px 5px;
        text-align: right;
        color: rgb(153, 153, 153);
    }

    .cm-s-inner .cm-keyword {
        color: rgb(119, 0, 136);
    }

    .cm-s-inner .cm-atom, .cm-s-inner.cm-atom {
        color: rgb(34, 17, 153);
    }

    .cm-s-inner .cm-number {
        color: rgb(17, 102, 68);
    }

    .cm-s-inner .cm-def {
        color: rgb(0, 0, 255);
    }

    .cm-s-inner .cm-variable {
        color: rgb(0, 0, 0);
    }

    .cm-s-inner .cm-variable-2 {
        color: rgb(0, 85, 170);
    }

    .cm-s-inner .cm-variable-3 {
        color: rgb(0, 136, 85);
    }

    .cm-s-inner .cm-string {
        color: rgb(170, 17, 17);
    }

    .cm-s-inner .cm-property {
        color: rgb(0, 0, 0);
    }

    .cm-s-inner .cm-operator {
        color: rgb(152, 26, 26);
    }

    .cm-s-inner .cm-comment, .cm-s-inner.cm-comment {
        color: rgb(170, 85, 0);
    }

    .cm-s-inner .cm-string-2 {
        color: rgb(255, 85, 0);
    }

    .cm-s-inner .cm-meta {
        color: rgb(85, 85, 85);
    }

    .cm-s-inner .cm-qualifier {
        color: rgb(85, 85, 85);
    }

    .cm-s-inner .cm-builtin {
        color: rgb(51, 0, 170);
    }

    .cm-s-inner .cm-bracket {
        color: rgb(153, 153, 119);
    }

    .cm-s-inner .cm-tag {
        color: rgb(17, 119, 0);
    }

    .cm-s-inner .cm-attribute {
        color: rgb(0, 0, 204);
    }

    .cm-s-inner .cm-header, .cm-s-inner.cm-header {
        color: rgb(0, 0, 255);
    }

    .cm-s-inner .cm-quote, .cm-s-inner.cm-quote {
        color: rgb(0, 153, 0);
    }

    .cm-s-inner .cm-hr, .cm-s-inner.cm-hr {
        color: rgb(153, 153, 153);
    }

    .cm-s-inner .cm-link, .cm-s-inner.cm-link {
        color: rgb(0, 0, 204);
    }

    .cm-negative {
        color: rgb(221, 68, 68);
    }

    .cm-positive {
        color: rgb(34, 153, 34);
    }

    .cm-header, .cm-strong {
        font-weight: 700;
    }

    .cm-del {
        text-decoration: line-through;
    }

    .cm-em {
        font-style: italic;
    }

    .cm-link {
        text-decoration: underline;
    }

    .cm-error {
        color: red;
    }

    .cm-invalidchar {
        color: red;
    }

    .cm-constant {
        color: rgb(38, 139, 210);
    }

    .cm-defined {
        color: rgb(181, 137, 0);
    }

    div.CodeMirror span.CodeMirror-matchingbracket {
        color: rgb(0, 255, 0);
    }

    div.CodeMirror span.CodeMirror-nonmatchingbracket {
        color: rgb(255, 34, 34);
    }

    .cm-s-inner .CodeMirror-activeline-background {
        background: inherit;
    }

    .CodeMirror {
        position: relative;
        overflow: hidden;
    }

    .CodeMirror-scroll {
        height: 100%;
        outline: 0px;
        position: relative;
        box-sizing: content-box;
        background: inherit;
    }

    .CodeMirror-sizer {
        position: relative;
    }

    .CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar {
        position: absolute;
        z-index: 6;
        display: none;
    }

    .CodeMirror-vscrollbar {
        right: 0px;
        top: 0px;
        overflow: hidden;
    }

    .CodeMirror-hscrollbar {
        bottom: 0px;
        left: 0px;
        overflow: hidden;
    }

    .CodeMirror-scrollbar-filler {
        right: 0px;
        bottom: 0px;
    }

    .CodeMirror-gutter-filler {
        left: 0px;
        bottom: 0px;
    }

    .CodeMirror-gutters {
        position: absolute;
        left: 0px;
        top: 0px;
        padding-bottom: 30px;
        z-index: 3;
    }

    .CodeMirror-gutter {
        white-space: normal;
        height: 100%;
        box-sizing: content-box;
        padding-bottom: 30px;
        margin-bottom: -32px;
        display: inline-block;
    }

    .CodeMirror-gutter-wrapper {
        position: absolute;
        z-index: 4;
        background: 0px 0px !important;
        border: none !important;
    }

    .CodeMirror-gutter-background {
        position: absolute;
        top: 0px;
        bottom: 0px;
        z-index: 4;
    }

    .CodeMirror-gutter-elt {
        position: absolute;
        cursor: default;
        z-index: 4;
    }

    .CodeMirror-lines {
        cursor: text;
    }

    .CodeMirror pre {
        border-radius: 0px;
        border-width: 0px;
        background: 0px 0px;
        font-family: inherit;
        font-size: inherit;
        margin: 0px;
        white-space: pre;
        word-wrap: normal;
        color: inherit;
        z-index: 2;
        position: relative;
        overflow: visible;
    }

    .CodeMirror-wrap pre {
        word-wrap: break-word;
        white-space: pre-wrap;
        word-break: normal;
    }

    .CodeMirror-code pre {
        border-right: 30px solid transparent;
        width: fit-content;
    }

    .CodeMirror-wrap .CodeMirror-code pre {
        border-right: none;
        width: auto;
    }

    .CodeMirror-linebackground {
        position: absolute;
        left: 0px;
        right: 0px;
        top: 0px;
        bottom: 0px;
        z-index: 0;
    }

    .CodeMirror-linewidget {
        position: relative;
        z-index: 2;
        overflow: auto;
    }

    .CodeMirror-wrap .CodeMirror-scroll {
        overflow-x: hidden;
    }

    .CodeMirror-measure {
        position: absolute;
        width: 100%;
        height: 0px;
        overflow: hidden;
        visibility: hidden;
    }

    .CodeMirror-measure pre {
        position: static;
    }

    .CodeMirror div.CodeMirror-cursor {
        position: absolute;
        visibility: hidden;
        border-right: none;
        width: 0px;
    }

    .CodeMirror div.CodeMirror-cursor {
        visibility: hidden;
    }

    .CodeMirror-focused div.CodeMirror-cursor {
        visibility: inherit;
    }

    .cm-searching {
        background: rgba(255, 255, 0, 0.4);
    }

    @media print {
        .CodeMirror div.CodeMirror-cursor {
            visibility: hidden;
        }
    }


    :root {
        --active-file-bg-color: rgba(32, 43, 51, 0.63);
        --active-file-text-color: white;
        --bg-color: #f3f2ee;
        --text-color: #1f0909;
        --control-text-color: #444;
        --rawblock-edit-panel-bd: #e5e5e5;
        --select-text-bg-color: rgba(32, 43, 51, 0.63);
        --select-text-font-color: white;
    }

    pre {
        --select-text-bg-color: #36284e;
        --select-text-font-color: #fff;
    }

    html {
        font-size: 16px;
    }

    html, body {
        background-color: rgb(243, 242, 238);
        font-family: "PT Serif", "Times New Roman", Times, serif;
        color: rgb(31, 9, 9);
        line-height: 1.5em;
    }

    #write {
        max-width: 40em;
    }

    ol li {
        list-style-type: decimal;
        list-style-position: outside;
    }

    ul li {
        list-style-type: disc;
        list-style-position: outside;
    }

    ol, ul {
        list-style: none;
    }

    blockquote, q {
        quotes: none;
    }

    blockquote::before, blockquote::after, q::before, q::after {
        content: none;
    }

    table {
        border-collapse: collapse;
        border-spacing: 0px;
    }

    h1, h2, h3, h4, h5, h6 {
        font-weight: bold;
    }

    h1 {
        font-size: 1.875em;
        line-height: 1.6em;
        margin-top: 2em;
    }

    h2, h3 {
        font-size: 1.3125em;
        line-height: 1.15;
        margin-top: 2.28571em;
        margin-bottom: 1.15em;
    }

    h3 {
        font-weight: normal;
    }

    h4 {
        font-size: 1.125em;
        margin-top: 2.67em;
    }

    h5, h6 {
        font-size: 1em;
    }

    h1 {
        border-bottom: 1px solid;
        margin-bottom: 1.875em;
        padding-bottom: 0.8125em;
    }

    a {
        text-decoration: none;
        color: rgb(6, 85, 136);
    }

    a:hover, a:active {
        text-decoration: underline;
    }

    p, blockquote, .md-fences {
        margin-bottom: 1.5em;
    }

    h1, h2, h3, h4, h5, h6 {
        margin-bottom: 1.5em;
    }

    blockquote {
        font-style: italic;
        border-left: 5px solid;
        margin-left: 2em;
        padding-left: 1em;
    }

    ul, ol {
        margin: 0px 0px 1.5em 1.5em;
    }

    .md-meta, .md-before, .md-after {
        color: rgb(153, 153, 153);
    }

    table {
        margin-bottom: 1.5em;
        font-size: 1em;
    }

    thead th, tfoot th {
        padding: 0.25em 0.25em 0.25em 0.4em;
        text-transform: uppercase;
    }

    th {
        text-align: left;
    }

    td {
        vertical-align: top;
        padding: 0.25em 0.25em 0.25em 0.4em;
    }

    code, .md-fences {
        background-color: rgb(218, 218, 218);
    }

    code {
        padding-left: 2px;
        padding-right: 2px;
    }

    .md-fences {
        margin-left: 2em;
        margin-bottom: 3em;
        padding-left: 1ch;
        padding-right: 1ch;
    }

    pre, code, tt {
        font-size: 0.875em;
        line-height: 1.71429em;
    }

    h1 {
        line-height: 1.3em;
        font-weight: normal;
        margin-bottom: 0.5em;
    }

    p + ul, p + ol {
        margin-top: 0.5em;
    }

    h3 + ul, h4 + ul, h5 + ul, h6 + ul, h3 + ol, h4 + ol, h5 + ol, h6 + ol {
        margin-top: 0.5em;
    }

    li > ul, li > ol {
        margin-top: inherit;
        margin-bottom: 0px;
    }

    li ol > li {
        list-style-type: lower-alpha;
    }

    li li ol > li {
        list-style-type: lower-roman;
    }

    h2, h3 {
        margin-bottom: 0.75em;
    }

    hr {
        border-top: none;
        border-right: none;
        border-bottom: 1px solid;
        border-left: none;
    }

    h1 {
        border-color: rgb(197, 197, 197);
    }

    blockquote {
        border-color: rgb(186, 186, 186);
        color: rgb(101, 101, 101);
    }

    blockquote ul, blockquote ol {
        margin-left: 0px;
    }

    .ty-table-edit {
        background-color: transparent;
    }

    thead {
        background-color: rgb(218, 218, 218);
    }

    tr:nth-child(2n) {
        background: rgb(232, 231, 231);
    }

    hr {
        border-color: rgb(197, 197, 197);
    }

    .task-list {
        padding-left: 1rem;
    }

    .md-task-list-item {
        padding-left: 1.5rem;
        list-style-type: none;
    }

    .md-task-list-item > input::before {
        content: "√";
        display: inline-block;
        width: 1.25rem;
        height: 1.6rem;
        vertical-align: middle;
        text-align: center;
        color: rgb(221, 221, 221);
        background-color: rgb(243, 242, 238);
    }

    .md-task-list-item > input:checked::before, .md-task-list-item > input[checked]::before {
        color: inherit;
    }

    #write pre.md-meta-block {
        min-height: 1.875rem;
        color: rgb(85, 85, 85);
        border: 0px;
        background: transparent;
        margin-left: 1em;
        margin-top: 1em;
    }

    .md-image > .md-meta {
        color: rgb(155, 81, 70);
    }

    .md-image > .md-meta {
        font-family: Menlo, "Ubuntu Mono", Consolas, "Courier New", "Microsoft Yahei", "Hiragino Sans GB", "WenQuanYi Micro Hei", serif;
    }

    #write > h3.md-focus::before {
        left: -1.5rem;
        color: rgb(153, 153, 153);
        border-color: rgb(153, 153, 153);
    }

    #write > h4.md-focus::before {
        left: -1.5rem;
        top: 0.25rem;
        color: rgb(153, 153, 153);
        border-color: rgb(153, 153, 153);
    }

    #write > h5.md-focus::before {
        left: -1.5rem;
        color: rgb(153, 153, 153);
        border-color: rgb(153, 153, 153);
    }

    #write > h6.md-focus::before {
        left: -1.5rem;
        top: 0.3125rem;
        color: rgb(153, 153, 153);
        border-color: rgb(153, 153, 153);
    }

    .md-toc:focus .md-toc-content {
        margin-top: 19px;
    }

    .md-toc-content:empty::before {
        color: rgb(6, 85, 136);
    }

    .md-toc-item {
        color: rgb(6, 85, 136);
    }

    #write div.md-toc-tooltip {
        background-color: rgb(243, 242, 238);
    }

    #typora-sidebar {
        background-color: rgb(243, 242, 238);
        box-shadow: rgba(0, 0, 0, 0.376) 0px 6px 12px;
    }

    .pin-outline #typora-sidebar {
        background: inherit;
        box-shadow: none;
        border-right: 1px dashed;
    }

    .pin-outline #typora-sidebar:hover .outline-title-wrapper {
        border-left: 1px dashed;
    }

    .outline-item:hover {
        background-color: rgb(218, 218, 218);
        border-left: 28px solid rgb(218, 218, 218);
        border-right: 18px solid rgb(218, 218, 218);
    }

    .typora-node .outline-item:hover {
        border-right: 28px solid rgb(218, 218, 218);
    }

    .outline-expander::before {
        content: "";
        font-family: FontAwesome;
        font-size: 14px;
        top: 1px;
    }

    .outline-expander:hover::before, .outline-item-open > .outline-item > .outline-expander::before {
        content: "";
    }

    .modal-content {
        background-color: rgb(243, 242, 238);
    }

    .auto-suggest-container ul li {
        list-style-type: none;
    }

    .megamenu-menu, #top-titlebar, #top-titlebar *, .megamenu-content {
        background: rgb(243, 242, 238);
        color: rgb(31, 9, 9);
    }

    .megamenu-menu-header {
        border-bottom: 1px dashed rgb(32, 43, 51);
    }

    .megamenu-menu {
        box-shadow: none;
        border-right: 1px dashed;
    }

    header, .context-menu, .megamenu-content, footer {
        font-family: "PT Serif", "Times New Roman", Times, serif;
        color: rgb(31, 9, 9);
    }

    #megamenu-back-btn {
        color: rgb(31, 9, 9);
        border-color: rgb(31, 9, 9);
    }

    .megamenu-menu-header #megamenu-menu-header-title::before {
        color: rgb(31, 9, 9);
    }

    .megamenu-menu-list li a:hover, .megamenu-menu-list li a.active {
        color: inherit;
        background-color: rgb(232, 231, 223);
    }

    .long-btn:hover {
        background-color: rgb(232, 231, 223);
    }

    #recent-file-panel tbody tr:nth-child(2n-1) {
        background-color: transparent !important;
    }

    .megamenu-menu-panel tbody tr:hover td:nth-child(2) {
        color: inherit;
    }

    .megamenu-menu-panel .btn {
        background-color: rgb(210, 209, 209);
    }

    .btn-default {
        background-color: transparent;
    }

    .typora-sourceview-on #toggle-sourceview-btn, .ty-show-word-count #footer-word-count {
        background: rgb(199, 197, 197);
    }

    #typora-quick-open {
        background-color: inherit;
    }

    .md-diagram-panel {
        margin-top: 8px;
    }

    .file-list-item-file-name {
        font-weight: initial;
    }

    .file-list-item-summary {
        opacity: 1;
    }

    .file-list-item {
        color: rgb(119, 119, 119);
    }

    .file-list-item.active {
        background-color: inherit;
        color: black;
    }

    .ty-side-sort-btn.active {
        background-color: inherit;
    }

    .file-list-item.active .file-list-item-file-name {
        font-weight: bold;
    }

    .file-list-item {
        opacity: 1 !important;
    }

    .file-library-node.active > .file-node-background {
        background-color: var(--active-file-bg-color);
    }

    .file-tree-node.active > .file-node-content {
        color: var(--active-file-text-color);
    }

    .md-task-list-item > input {
        margin-left: -1.6em;
        margin-top: calc(1rem - 12px);
    }

    input {
        border: 1px solid rgb(170, 170, 170);
    }

    .megamenu-menu-header #megamenu-menu-header-title, .megamenu-menu-header:hover, .megamenu-menu-header:focus {
        color: inherit;
    }

    .dropdown-menu .divider {
        border-color: rgb(229, 229, 229);
    }

    .os-windows-7 strong, .os-windows-7 strong {
        font-weight: 760;
    }


    .typora-export li, .typora-export p, .typora-export, .footnote-line {
        white-space: normal;
    }
    </style>
</head>
<body class='typora-export os-windows'>
<div id='write' class='is-node'><h1><a name='header-n0' class='md-header-anchor '></a>第8章 异常</h1>
    <h2><a name='header-n2' class='md-header-anchor '></a>主要内容</h2>
    <ul>
        <li>异常的体系结构</li>
        <li><strong>常见异常</strong></li>
        <li>throw关键字（手动创建并抛出异常）</li>
        <li><strong>异常处理机制一：try</strong>（掌握）</li>
        <li><strong>异常处理机制二：throws</strong>（掌握）</li>
        <li>自定义异常</li>
    </ul>
    <h2><a name='header-n16' class='md-header-anchor '></a>学习目标</h2>
    <ul>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>能够辨别程序中异常和错误的区别</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>说出异常的分类</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>说出虚拟机处理异常的方式</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>可以编写代码演示OOM</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>列出常见的5个运行时异常</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>列出常见的5个编译时异常</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>能够使用try...catch关键字处理异常</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>能够使用throws关键字处理异常</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>能够自定义异常类</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>能够处理自定义异常类</p></li>
    </ul>
    <h1><a name='header-n38' class='md-header-anchor '></a>第八章 异常</h1>
    <h2><a name='header-n39' class='md-header-anchor '></a>8.1 异常概述</h2>
    <p>在使用计算机语言进行项目开发的过程中，即使程序员把代码写得 尽善尽美，在系统的运行过程中仍然会遇到一些问题，因为很多问题不是靠代码能够避免的，比如：客户输入数据的格式，读取文件是否存在，网络是否始终保持通畅等等。</p>
    <ul>
        <li><strong>异常</strong> ：指的是程序在执行过程中，出现的非正常的情况，如果不处理最终会导致JVM的非正常停止。</li>
    </ul>
    <blockquote><p>异常指的并不是语法错误。语法错了，编译不通过，不会产生字节码文件，根本不能运行。</p>
        <p>异常也不是指逻辑代码错误而没有得到想要的结果，例如：求a与b的和，你写成了a-b</p></blockquote>
    <p>对于异常的发生，要么直接终止程序的运行，这不是我们想要的结果；要么在编写程序时，预判到可能会出现异常的地方，做好针对性处理措施，当异常发生时，经异常处理后，可以保证程序还可以继续执行。</p>
    <p><strong>Java中如何描述异常并且都有什么样的异常？异常发生时，程序员如何得知？然后又该如何处理异常？</strong></p>
    <p>
        Java中把常见的不同异常用不同的类表示，当发生某种异常时，JVM会创建该异常类型的对象（其中包含了异常详细信息），并且抛出来，然后程序员可以catch到这个异常对象，并根据需要进行相应处理，如果无法catch到这个异常对象，说明没有针对这个异常预备处理措施，那么这个异常对象将会导致程序终止。</p>
    <h2><a name='header-n50' class='md-header-anchor '></a>8.2 异常体系</h2>
    <p>异常的根类是<code>java.lang.Throwable</code>，Java提供的所有异常类均继承自此类，其下有两个子类：<code>java.lang.Error</code>与<code>java.lang.Exception</code>，平常所说的异常指<code>java.lang.Exception</code>。
    </p>
    <p><img src='imgs08/异常的分类.png' alt='' referrerPolicy='no-referrer'/></p>
    <p><strong>Throwable体系：</strong></p>
    <ul>
        <li><p><strong>Error</strong>:严重错误Error，无法通过处理的错误，只能事先避免，好比绝症。</p>
            <ul>
                <li>例如： <code>StackOverflowError</code>、<code>OutOfMemoryError</code>。</li>
            </ul>
        </li>
        <li><p><strong>Exception</strong>:表示异常，其它因编程错误或偶然的外在因素导致的一般性问题，程序员可以通过相应预防处理措施，使程序发生异常后还可以继续运行。好比感冒、阑尾炎。</p>
            <ul>
                <li>例如：空指针访问、试图读取不存在的文件、网络连接中断、数组角标越界</li>
            </ul>
        </li>
    </ul>
    <p><strong>Throwable中的常用方法：</strong></p>
    <ul>
        <li><p><code>public void printStackTrace()</code>:打印异常的详细信息。</p>
            <p><em>包含了异常的类型,异常的原因,还包括异常出现的位置,在开发和调试阶段,都得使用printStackTrace。</em></p></li>
        <li><p><code>public String getMessage()</code>:获取发生异常的原因。</p>
            <p><em>提示给用户的时候,就提示错误原因。</em></p></li>
    </ul>
    <p><strong><em>出现异常,不要紧张,把异常的简单类名,拷贝到API中去查。</em></strong></p>
    <p><img src='imgs08/简单的异常查看.bmp' alt='' referrerPolicy='no-referrer'/></p>
    <h2><a name='header-n75' class='md-header-anchor '></a>8.3 异常分类</h2>
    <p>由于Error情况发生是我们无法处理的，一般因为是内存不足或程序存在严重逻辑问题，只能通过扩大内存或重新修改代码解决。</p>
    <p>而我们平常所遇到的大多数是Exception类型的异常，也是我们通常说的异常和异常处理。Exception异常又通常分两大类：</p>
    <p><strong>运行期异常（unchecked Exception）：</strong>这类异常的发生多数是因为程序员编写的代码逻辑不够严谨造成的（如数组脚标越界异常），可以选择进行处理或不处理，最好是通过修正、优化代码避免异常的发生（<em>或者使用异常处理简化复杂的逻辑判断代码</em>）。
    </p>
    <p><strong>编译期异常（checked Exception）：</strong>这类异常一般由程序之外的因素引起的（如程序读取的文件不存在、网络中断），而不是程序员写的代码逻辑有问题，所以程序员容易忽略对这类异常的处理，而恰恰这类异常又很常发生，所以Java要求针对这类可能发生的异常必须进行处理，否则编译无法通过。（只有java语言有需强制处理的异常）
    </p>
    <p>&nbsp;</p>
    <p><img src='imgs08/1562771528807.png' alt='1562771528807' referrerPolicy='no-referrer'/></p>
    <h3><a name='header-n82' class='md-header-anchor '></a>常见的错误和异常演示示例</h3>
    <ol start=''>
        <li><h4><a name='header-n85' class='md-header-anchor '></a>VirtualMachineError</h4>
            <p>最常见的就是：</p>
            <p><code>StackOverflowError</code>:虚拟机栈内存不足，无法分配栈帧所需空间。</p>
            <p><code>OutOfMemoryError</code>：没有足够的内存空间可以分配。</p>
            <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div
                    class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div
                    style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
                    autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                    style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                    class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div
                    class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll"
                                                                                      tabindex="-1"><div
                    class="CodeMirror-sizer"
                    style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                    style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                    role="presentation" style="position: relative; outline: none;"><div
                    class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div
                    style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"
                                                                       style=""><div class="CodeMirror-activeline"
                                                                                     style="position: relative;"><div
                    class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                    class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                    style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-meta">@Test</span></span></pre></div><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">public</span> <span
                    class="cm-variable-3">void</span> <span class="cm-def">test01</span>(){</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-comment">//StackOverflowError</span></span></pre><pre class=" CodeMirror-line "
                                                                                    role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">digui</span>();</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span></span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">public</span> <span
                    class="cm-variable-3">void</span> <span class="cm-def">digui</span>(){</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-variable">digui</span>();</span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre></div></div></div></div></div><div
                    style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 222px;"></div><div
                    class="CodeMirror-gutters" style="display: none; height: 222px;"></div></div></div></pre>
            <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"
                 style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div
                    style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
                    autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                    style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                    class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div
                    class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll"
                                                                                      tabindex="-1"><div
                    class="CodeMirror-sizer"
                    style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                    style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                    role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                    class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                    class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                              style="position: relative;"><div
                    class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                    class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                    style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-meta">@Test</span></span></pre></div><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">public</span> <span
                    class="cm-variable-3">void</span> <span class="cm-def">test02</span>(){</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-comment">//OutOfMemoryError</span></span></pre><pre class=" CodeMirror-line "
                                                                                  role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//方式一：</span></span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-variable-3">int</span>[] <span class="cm-variable">arr</span> <span
                    class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                    class="cm-variable-3">int</span>[<span class="cm-variable-3">Integer</span>.<span
                    class="cm-variable">MAX_VALUE</span>];</span></pre><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span>}</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span
                    class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span
                    class="cm-def">test03</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//OutOfMemoryError</span></span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-comment">//方式二：</span></span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-variable-3">StringBuilder</span> <span class="cm-variable">s</span> <span
                    class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable-3">StringBuilder</span>();</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-keyword">while</span>(<span class="cm-atom">true</span>){</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span
                    class="cm-variable">s</span>.<span class="cm-variable">append</span>(<span class="cm-string">"atguigu"</span>);</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span>}</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre></div></div></div></div></div><div
                    style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 370px;"></div><div
                    class="CodeMirror-gutters" style="display: none; height: 370px;"></div></div></div></pre>
        </li>
        <li><h4><a name='header-n92' class='md-header-anchor '></a>运行时异常</h4>
            <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"
                 style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div
                    style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
                    autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                    style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                    class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div
                    class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll"
                                                                                      tabindex="-1"><div
                    class="CodeMirror-sizer"
                    style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                    style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                    role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                    class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                    class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                              style="position: relative;"><div
                    class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                    class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                    style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-meta">@Test</span></span></pre></div><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">public</span> <span
                    class="cm-variable-3">void</span> <span class="cm-def">test01</span>(){</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span> &nbsp; &nbsp;<span class="cm-comment">//NullPointerException</span></span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-variable-3">int</span>[] <span class="cm-variable">arr</span><span
                    class="cm-operator">=</span><span class="cm-atom">null</span>;</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span
                    class="cm-variable">arr</span>.<span class="cm-variable">length</span>);</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span></span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span
                    class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span
                    class="cm-def">test02</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//ClassCastException</span></span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-variable">Person</span> <span class="cm-variable">p</span> <span
                    class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                    class="cm-variable">Man</span>();</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-variable">Woman</span> <span class="cm-variable">w</span> <span
                    class="cm-operator">=</span> (<span class="cm-variable">Woman</span>) <span
                    class="cm-variable">p</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span>}</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span></span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span
                    class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span
                    class="cm-def">test03</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//ArrayIndexOutOfBoundsException</span></span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-variable-3">int</span>[] <span class="cm-variable">arr</span> <span
                    class="cm-operator">=</span> <span class="cm-keyword">new</span> <span
                    class="cm-variable-3">int</span>[<span class="cm-number">5</span>];</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span
                    class="cm-variable">i</span> <span class="cm-operator">=</span> <span
                    class="cm-number">1</span>; <span class="cm-variable">i</span> <span
                    class="cm-operator">&lt;=</span> <span class="cm-number">5</span>; <span
                    class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">System</span>.<span
                    class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-variable">arr</span>[<span
                    class="cm-variable">i</span>]);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span></span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span
                    class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span
                    class="cm-def">test04</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//InputMismatchException</span></span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-variable">Scanner</span> <span class="cm-variable">input</span> <span class="cm-operator">=</span> <span
                    class="cm-keyword">new</span> <span class="cm-variable">Scanner</span>(<span class="cm-variable">System</span>.<span
                    class="cm-variable">in</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">System</span>.<span
                    class="cm-variable">out</span>.<span class="cm-variable">print</span>(<span class="cm-string">"请输入一个整数："</span>);</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-variable-3">int</span> <span class="cm-variable">num</span> <span
                    class="cm-operator">=</span> <span class="cm-variable">input</span>.<span class="cm-variable">nextInt</span>();</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span></span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span
                    class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span
                    class="cm-def">test05</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int</span> <span
                    class="cm-variable">a</span> <span class="cm-operator">=</span> <span
                    class="cm-number">1</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int</span> <span
                    class="cm-variable">b</span> <span class="cm-operator">=</span> <span
                    class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//ArithmeticException</span></span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span
                    class="cm-variable">a</span><span class="cm-operator">/</span><span
                    class="cm-variable">b</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span>}</span></pre></div></div></div></div></div><div
                    style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 937px;"></div><div
                    class="CodeMirror-gutters" style="display: none; height: 937px;"></div></div></div></pre>
        </li>
        <li><h4><a name='header-n95' class='md-header-anchor '></a>编译时异常</h4>
            <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"
                 style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div
                    style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
                    autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                    style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                    class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div
                    class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll"
                                                                                      tabindex="-1"><div
                    class="CodeMirror-sizer"
                    style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                    style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                    role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                    class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                    class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                              style="position: relative;"><div
                    class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                    class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                    style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-meta">@Test</span></span></pre></div><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">public</span> <span
                    class="cm-variable-3">void</span> <span class="cm-def">test06</span>() <span class="cm-keyword">throws</span> <span
                    class="cm-variable">InterruptedException</span>{</span></pre><pre class=" CodeMirror-line "
                                                                                      role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">Thread</span>.<span
                    class="cm-variable">sleep</span>(<span class="cm-number">1000</span>);<span class="cm-comment">//休眠1秒</span></span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span></span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span
                    class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span
                    class="cm-def">test07</span>() <span class="cm-keyword">throws</span> <span class="cm-variable">FileNotFoundException</span>{</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-variable">FileInputStream</span> <span class="cm-variable">fis</span> <span
                    class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">FileInputStream</span>(<span
                    class="cm-string">"Java学习秘籍.txt"</span>);</span></pre><pre class=" CodeMirror-line "
                                                                               role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span>}</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span></span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span
                    class="cm-meta">@Test</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                            cm-text="	">    </span><span
                    class="cm-keyword">public</span> <span class="cm-variable-3">void</span> <span
                    class="cm-def">test08</span>() <span class="cm-keyword">throws</span> <span class="cm-variable">SQLException</span>{</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab"
                                                                                       role="presentation"
                                                                                       cm-text="	">    </span><span
                    class="cm-variable">Connection</span> <span class="cm-variable">conn</span> <span
                    class="cm-operator">=</span> <span class="cm-variable">DriverManager</span>.<span
                    class="cm-variable">getConnection</span>(<span class="cm-string">"...."</span>);</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre></div></div></div></div></div><div
                    style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 419px;"></div><div
                    class="CodeMirror-gutters" style="display: none; height: 419px;"></div></div></div></pre>
        </li>
    </ol>
    <h2><a name='header-n97' class='md-header-anchor '></a>8.4 异常的生成与抛出机制throw</h2>
    <p>Java程序的执行过程中如出现异常，会生成一个异常类对象，然后该异常对象会被提交给Java运行时系统，这个过程称为抛出(throw)异常。<strong>异常对象的生成与抛出有两种方式：</strong></p>
    <ol start=''>
        <li><p><strong>由虚拟机自动生成</strong>：程序运行过程中，虚拟机检测到程序发生了问题，就会在后台自动创建一个对应异常类的实例对象并<strong>自动抛出</strong>。</p>
            <p>我们通过示例分析下一次产生的过程：</p>
            <p>运行以下程序会产生一个数组索引越界异常<code>ArrayIndexOfBoundsException</code>。</p>
            <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div
                    class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div
                    style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
                    autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                    style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                    class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div
                    class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll"
                                                                                      tabindex="-1"><div
                    class="CodeMirror-sizer"
                    style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                    style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                    role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                    class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                    class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                              style="position: relative;"><div
                    class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                    class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                    style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span
                    class="cm-comment">// 工具类</span></span></pre></div><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span
                    class="cm-keyword">class</span> <span class="cm-def">ArrayTools</span> {</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                    class="cm-comment">// 对给定的数组通过给定的角标获取元素。</span></span></pre><pre class=" CodeMirror-line "
                                                                                     role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                    class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-variable-3">int</span> <span
                    class="cm-variable">getElement</span>(<span class="cm-variable-3">int</span>[] <span
                    class="cm-variable">arr</span>, <span class="cm-variable-3">int</span> <span class="cm-variable">index</span>) {</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                    class="cm-variable-3">int</span> <span class="cm-variable">element</span> <span class="cm-operator">=</span> <span
                    class="cm-variable">arr</span>[<span class="cm-variable">index</span>];</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                    class="cm-keyword">return</span> <span class="cm-variable">element</span>;</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div
                    style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 222px;"></div><div
                    class="CodeMirror-gutters" style="display: none; height: 222px;"></div></div></div></pre>
            <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div
                    class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div
                    style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
                    autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                    style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                    class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div
                    class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll"
                                                                                      tabindex="-1"><div
                    class="CodeMirror-sizer"
                    style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                    style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                    role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                    class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                    class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                              style="position: relative;"><div
                    class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                    class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                    style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span
                    class="cm-comment">// 测试类</span></span></pre></div><pre class=" CodeMirror-line "
                                                                            role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span
                    class="cm-keyword">class</span> <span class="cm-def">ExceptionDemo</span> {</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"> &nbsp; &nbsp;<span
                    class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-variable-3">void</span> <span
                    class="cm-variable">main</span>(<span class="cm-variable-3">String</span>[] <span
                    class="cm-variable">args</span>) {</span></pre><pre class=" CodeMirror-line "
                                                                        role="presentation"><span role="presentation"
                                                                                                  style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                    class="cm-variable-3">int</span>[] <span class="cm-variable">arr</span> <span
                    class="cm-operator">=</span> { <span class="cm-number">34</span>, <span class="cm-number">12</span>, <span
                    class="cm-number">67</span> };</span></pre><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                    class="cm-variable">intnum</span> <span class="cm-operator">=</span> <span class="cm-variable">ArrayTools</span>.<span
                    class="cm-variable">getElement</span>(<span class="cm-variable">arr</span>, <span class="cm-number">4</span>)</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                    class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span
                    class="cm-string">"num="</span> <span class="cm-operator">+</span> <span
                    class="cm-variable">num</span>);</span></pre><pre class=" CodeMirror-line "
                                                                      role="presentation"><span role="presentation"
                                                                                                style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
                    class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span
                    class="cm-string">"over"</span>);</span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div
                    style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 222px;"></div><div
                    class="CodeMirror-gutters" style="display: none; height: 222px;"></div></div></div></pre>
            <p>上述程序执行过程图解：</p>
            <p><img src='imgs08/异常产生过程.png' alt='' referrerPolicy='no-referrer'/></p>
            <p><img src='imgs08/1562772282750.png' alt='1562772282750' referrerPolicy='no-referrer'/></p>
            <p>由此看出，异常对象被JVM创建后，在产生异常的方法中会自动抛出，抛给方法的调用者，抛给main方法，最后抛给虚拟机，虚拟机打印异常信息后终止程序。</p>
            <p>&nbsp;</p></li>
        <li><p><strong>由开发人员手动创建：</strong>Exception exception = new
            ClassCastException();——创建好的异常对象不抛出对程序没有任何影响，和创建一个普通对象一样，手动创建的异常对象需要<strong>手动抛出</strong>，才会对程序产生影响。</p>
            <p>在Java中，使用关<strong>throw</strong>关键字手动抛出一个异常对象,throw用在方法内，将这个异常对象传递到方法调用者处，同时<strong>结束</strong>当前方法的执行。
            </p>
            <p><strong>使用格式：</strong></p>
            <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div
                    class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div
                    style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
                    autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                    style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                    class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div
                    class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll"
                                                                                      tabindex="-1"><div
                    class="CodeMirror-sizer"
                    style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                    style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                    role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
                    class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
                    class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline"
                                                                     style="position: relative;"><div
                    class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                    class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                    style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;">throw new 异常类名(参数);</span></pre></div></div></div></div></div></div><div
                    style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 25px;"></div><div
                    class="CodeMirror-gutters" style="display: none; height: 25px;"></div></div></div></pre>
            <p> 例如：</p>
            <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div
                    class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div
                    style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
                    autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
                    style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
                    class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div
                    class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll"
                                                                                      tabindex="-1"><div
                    class="CodeMirror-sizer"
                    style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
                    style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
                    role="presentation" style="position: relative; outline: none;"><div
                    class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div
                    style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div
                    class="CodeMirror-activeline" style="position: relative;"><div
                    class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
                    class="CodeMirror-gutter-background CodeMirror-activeline-gutter"
                    style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">throw</span> <span
                    class="cm-keyword">new</span> <span class="cm-variable">NullPointerException</span>(<span
                    class="cm-string">"要访问的arr数组不存在"</span>);</span></pre></div><pre class=" CodeMirror-line "
                                                                                     role="presentation"><span
                    role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre
                    class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                        style="padding-right: 0.1px;"><span
                    class="cm-keyword">throw</span> <span class="cm-keyword">new</span> <span class="cm-variable">ArrayIndexOutOfBoundsException</span>(<span
                    class="cm-string">"该索引在数组中不存在，已超出范围"</span>);</span></pre></div></div></div></div></div><div
                    style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 99px;"></div><div
                    class="CodeMirror-gutters" style="display: none; height: 99px;"></div></div></div></pre>
            <p>throw的使用示例：</p>
            <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false"
                 cid="n119" mdtype="fences" style="break-inside: unset;">public class ThrowDemo {
    public static void main(String[] args) {
        //创建一个数组 
        int[] arr = {2,4,52,2};
        //根据索引找对应的元素 
        int index = 4;
        int element = getElement(arr, index);

        System.out.println(element);
        System.out.println("over");
    }
    /*
     * 根据 索引找到数组中对应的元素
     */
    public static int getElement(int[] arr,int index){ 
        if(arr == null){
            /*
             判断条件如果满足，当执行完throw抛出异常对象后，方法已经无法继续运算。
             这时就会结束当前方法的执行，并将异常告知给调用者。这时就需要通过异常来解决。 
              */
            throw new NullPointerException("要访问的arr数组不存在");
        }
       	//判断  索引是否越界
        if(index&lt;0 || index&gt;arr.length-1){
             /*
             判断条件如果满足，当执行完throw抛出异常对象后，方法已经无法继续运算。
             这时就会结束当前方法的执行，并将异常告知给调用者。这时就需要通过异常来解决。 
              */
             throw new ArrayIndexOutOfBoundsException("哥们，角标越界了~~~");
        }
        int element = arr[index];
        return element;
    }
}
</pre>
            <blockquote><p>注意：如果产生了问题，我们就会throw将问题描述类即异常进行抛出，也就是将问题返回给该方法的调用者。</p>
                <p>那么对于调用者来说，该怎么处理呢？一种是进行捕获处理，另一种就是继续讲问题声明出去，使用throws声明处理。</p></blockquote>
            <p><strong>练习1</strong></p>
            <p>1、声明Husband类，包含姓名和妻子属性，属性私有化，提供一个Husband(String name)的构造器，重写toString方法，返回丈夫姓名和妻子的姓名</p>
            <p>2、声明Wife类，包含姓名和丈夫属性，属性私有化，提供一个Wife(String name)的构造器，重写toString方法，返回妻子的姓名和丈夫的姓名</p>
            <p>3、声明TestMarry类，在main中，创建Husband和Wife对象后直接打印妻子和丈夫对象，查看异常情况，看如何解决</p>
            <p><strong>练习2</strong></p>
            <p>1、声明银行账户类Account</p>
            <p>（1）包含账号、余额属性，要求属性私有化，提供无参和有参构造，</p>
            <p>
                （2）包含取款方法，当取款金额为负数时，抛出IllegalArgumentException，异常信息为“取款金额有误，不能为负数”，当取款金额超过余额时，抛出UnsupportedOperationException，异常信息为“取款金额不足，不支持当前取款操作”</p>
            <p>（3）包含存款方法，当取款金额为负数时，抛出IllegalArgumentException，异常信息为“存款金额有误，不能为负数”</p>
            <p>2、编写测试类，创建账号对象，并调用取款和存款方法，并传入非法参数，测试发生对应的异常。</p></li>
    </ol>
    <p>&nbsp;</p>
    <h2><a name='header-n134' class='md-header-anchor '></a>8.5 异常的处理机制</h2>
    <p>如果一个方法内抛出异常，该异常对象会被抛给调用者方法中处理。如果异常没有在调用者方法中处理，它继续被抛给这个调用方法的上层方法。这个过程将一直继续下去，直到异常被处理。这一过程称为捕获(catch)异常。</p>
    <h3><a name='header-n136' class='md-header-anchor '></a>8.5.1 捕获异常try…catch</h3>
    <ul>
        <li><p><strong>捕获异常</strong>：Java中对异常有针对性的语句进行捕获，可以对出现的异常进行指定方式的处理。</p>
            <p>捕获异常语法如下：</p>
            <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false"
                 cid="n141" mdtype="fences">try{
     编写可能会出现异常的代码
}catch(异常类型1  e){
     处理异常的代码
     //记录日志/打印异常信息/继续抛出异常
}catch(异常类型2  e){
     处理异常的代码
     //记录日志/打印异常信息/继续抛出异常
}
....
</pre>
            <p><strong>try：</strong>捕获异常的第一步是用try{…}语句块选定捕获异常的范围，将可能出现异常的代码放在try语句块中。建议：此范围尽量小。</p>
            <p><strong>catch：</strong>用来进行某种异常的捕获，实现对捕获到的异常进行处理。每个try语句块可以伴随一个或多个catch语句，用于处理可能产生的不同类型的异常。</p>
            <ul>
                <li>可以有多个catch块，按顺序匹配。</li>
                <li>如果多个异常类型有包含关系，那么小上大下</li>
            </ul>
            <p>演示示例：</p>
            <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false"
                 cid="n150" mdtype="fences" style="break-inside: unset;">public class TestException {
	public static void main(String[] args)  {
		try {
			readFile("不敲代码学会Java秘籍.txt");
		} catch (FileNotFoundException e) {
//			e.printStackTrace();
//			System.out.println("好好敲代码，不要老是想获得什么秘籍");
			System.out.println(e.getMessage());
		} catch (IllegalAccessException e) {
			e.printStackTrace();
		} 
		
		System.out.println("继续学习吧...");
	}
	
	// 如果定义功能时有问题发生需要报告给调用者。可以通过在方法上使用throws关键字进行声明
	public static void readFile(String filePath) throws FileNotFoundException, IllegalAccessException{
		File file = new File(filePath);
		if(!file.exists()){
			throw new FileNotFoundException(filePath+"文件不存在");
		}
		if(!file.isFile()){
			throw new IllegalAccessException(filePath + "不是文件，无法直接读取");
		}
		//...
	}
	
}
</pre>
        </li>
    </ul>
    <ul>
        <li><p><strong>获取异常信息：</strong></p>
            <p>捕获到了异常对象，就可以获取异常对象中封装的异常信息，Throwable类中定义了一些方法用于获取异常对象中的信息:</p>
            <ul>
                <li><code>public String getMessage()</code>:获取异常的描述信息。</li>
                <li><code>public void printStackTrace()</code>:打印异常的跟踪栈信息并输出到控制台。这些信息包含了异常的类型,异常信息,还包括异常出现的位置,在开发和调试阶段,建议使用printStackTrace。
                </li>
            </ul>
        </li>
    </ul>
    <h3><a name='header-n160' class='md-header-anchor '></a>8.5.2 finally块</h3>
    <p><strong>finally</strong>：在finally代码块中存放的代码都是一定会被执行的。由于异常会引发程序跳转，导致后面有些语句执行不到，如果一定要执行这些语句就可以使用finally，finally常用于释放系统资源。
    </p>
    <p>比如：当我们在try语句块中打开了一些物理资源(磁盘文件/网络连接/数据库连接等),无论异常有没有发生，我们都要在使用完之后关闭已打开的资源，避免系统资源的浪费。</p>
    <p>finally的语法:</p>
    <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n164"
         mdtype="fences" style="break-inside: unset;"> try{
     
 }catch(...){
     
 }finally{
     无论try中是否发生异常，也无论catch是否捕获异常，也不管try和catch中是否有return语句，都一定会执行
 }
 
 或
  try{
     
 }finally{
     无论try中是否发生异常，也不管try中是否有return语句，都一定会执行。
 } 
</pre>
    <blockquote><p>注意:finally不能单独使用。</p>
        <p>当只有在try或者catch中调用退出JVM的相关方法，例如System.exit(0),此时finally才不会执行,否则finally永远会执行。</p></blockquote>
    <p>finally代码IO流读取文件示例如下：（暂）</p>
    <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n169"
         mdtype="fences" style="break-inside: unset;">import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;

public class TestException {
	public static void main(String[] args)  {
		readFile("不敲代码学会Java秘籍.txt");
		System.out.println("继续学习吧...");
	}
	
	// 如果定义功能时有问题发生需要报告给调用者。可以通过在方法上使用throws关键字进行声明
	public static void readFile(String filePath) {
		File file = new File(filePath);
		FileInputStream fis = null;
		try {
			
			if(!file.exists()){
				throw new FileNotFoundException(filePath+"文件不存在");
			}
			if(!file.isFile()){
				throw new IllegalAccessException(filePath + "不是文件，无法直接读取");
			}
			fis = new FileInputStream(file);
			//...
		} catch (Exception e) {
			//抓取到的是编译期异常  抛出去的是运行期 
			throw new RuntimeException(e);
		}finally{
			System.out.println("无论如何，这里的代码一定会被执行");
			try {
				if(fis!=null){
					fis.close();
				}
			} catch (IOException e) {
				//抓取到的是编译期异常  抛出去的是运行期 
				throw new RuntimeException(e);
			}
		}
		
	}
}
</pre>
    <p><img src='imgs08\死了都要try.bmp' alt='' referrerPolicy='no-referrer'/></p>
    <h3><a name='header-n171' class='md-header-anchor '></a>8.5.3 finally与return （了解）</h3>
    <ol start=''>
        <li><h4><a name='header-n174' class='md-header-anchor '></a>形式一：从try回来</h4>
            <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false"
                 cid="n175" mdtype="fences" style="break-inside: unset;">public class TestReturn {
	public static void main(String[] args) {
		int result = test("12");
		System.out.println(result);
	}

	public static int test(String str){
		try{
			Integer.parseInt(str);
			return 1;
		}catch(NumberFormatException e){
			return -1;
		}finally{
			System.out.println("test结束");
		}
	}
}
</pre>
        </li>
        <li><h4><a name='header-n177' class='md-header-anchor '></a>形式二：从catch回来</h4>
            <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false"
                 cid="n178" mdtype="fences" style="break-inside: unset;">public class TestReturn {
	public static void main(String[] args) {
		int result = test("a");
		System.out.println(result);
	}

	public static int test(String str){
		try{
			Integer.parseInt(str);
			return 1;
		}catch(NumberFormatException e){
			return -1;
		}finally{
			System.out.println("test结束");
		}
	}
}
</pre>
        </li>
        <li><h4><a name='header-n180' class='md-header-anchor '></a>形式三：从finally回来</h4>
            <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false"
                 cid="n181" mdtype="fences" style="break-inside: unset;">public class TestReturn {
	public static void main(String[] args) {
		int result = test("a");
		System.out.println(result);
	}

	public static int test(String str){
		try{
			Integer.parseInt(str);
			return 1;
		}catch(NumberFormatException e){
			return -1;
		}finally{
            System.out.println("test结束");
			return 0;
		}
	}
}
</pre>
        </li>
        <li><h4><a name='header-n183' class='md-header-anchor '></a>面试题</h4>
            <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false"
                 cid="n184" mdtype="fences" style="break-inside: unset;">	public static void main(String[] args) {
		int test = test(3,5);
		System.out.println(test);//8
	}

	public static int test(int x, int y){
		int result = x;
		try{
			if(x&lt;0 || y&lt;0){
				return 0;
			}
			result = x + y;
			return result;
		}finally{
			result = x - y;
		}
	}
</pre>
            <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false"
                 cid="n185" mdtype="fences" style="break-inside: unset;">public class Test04 {
	static int i = 0;
	public static void main(String[] args) {
		System.out.println(test());//2
	}

	public static int test(){
		try{
			return ++i;
		}finally{
			return ++i;
		}
	}
}
</pre>
        </li>
    </ol>
    <h3><a name='header-n186' class='md-header-anchor '></a>8.5.4 声明异常throws</h3>
    <p><strong>throws：用在方法上，表明此方法可能会产生的异常类型。</strong></p>
    <p><strong>如果在某方法内通过抛出了必须要处理的编译期异常，有两种选择：要么在当前方法进行捕获处理，要么通过throws在当前方法上进行声明，让方法的调用者去处理。</strong></p>
    <p><strong>声明异常格式：</strong></p>
    <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="" contenteditable="false" cid="n190"
         mdtype="fences">修饰符 返回值类型 方法名(参数) throws 异常类名1,异常类名2…{   }
</pre>
    <p>声明异常的代码演示：</p>
    <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n192"
         mdtype="fences" style="break-inside: unset;">import java.io.File;
import java.io.FileNotFoundException;

public class TestException {
	public static void main(String[] args) throws FileNotFoundException {
		readFile("不敲代码学会Java秘籍.txt");
	}
	
	// 如果定义功能时有问题发生需要报告给调用者。可以通过在方法上使用throws关键字进行声明
	public static void readFile(String filePath) throws FileNotFoundException{
		File file = new File(filePath);
		if(!file.exists()){
			throw new FileNotFoundException(filePath+"文件不存在");
		}
	}
	
}
</pre>
    <p>throws用于进行异常类的声明，若该方法可能有多种异常情况产生，那么在throws后面可以写多个异常类，用逗号隔开。</p>
    <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n194"
         mdtype="fences" style="break-inside: unset;">import java.io.File;
import java.io.FileNotFoundException;

public class TestException {
	public static void main(String[] args) throws FileNotFoundException,IllegalAccessException {
		readFile("不敲代码学会Java秘籍.txt");
	}
	
	// 如果定义功能时有问题发生需要报告给调用者。可以通过在方法上使用throws关键字进行声明
	public static void readFile(String filePath) throws FileNotFoundException,IllegalAccessException{
		File file = new File(filePath);
		if(!file.exists()){
			throw new FileNotFoundException(filePath+"文件不存在");
		}
		if(!file.isFile()){
			throw new IllegalAccessException(filePath + "不是文件，无法直接读取");
		}
		//...
	}
	
}
</pre>
    <p><strong>练习</strong></p>
    <p>1、声明银行账户类Account</p>
    <p>（1）包含账号、余额属性，要求属性私有化，提供无参和有参构造，</p>
    <p>（2）包含取款方法，当取款金额为负数时，抛出Exception，异常信息为“越取你余额越多，想得美”，当取款金额超过余额时，抛出Exception，异常信息为“取款金额不足，不支持当前取款操作”</p>
    <p>（3）包含存款方法，当取款金额为负数时，抛出Exception，异常信息为“越存余额越少，你愿意吗？”</p>
    <p>2、编写测试类，创建账号对象，并调用取款和存款方法，并传入非法参数，测试发生对应的异常。</p>
    <h2><a name='header-n201' class='md-header-anchor '></a>8.6 自定义异常</h2>
    <ol start=''>
        <li><p><strong>为什么需要自定义异常类:</strong></p>
            <p>
                异常表示程序运行中出现的不正常的情况，我们说了Java中不同的异常类,分别表示着某一种具体的异常情况，我们在使用也是尽量使用Java这些异常类型。但在大型系统的开发中总是有些不正常的情况是Java没有定义好的类不好表示的，此时我们可以根据自己业务的异常情况来自定义异常类。例如年龄负数问题，考试成绩负数问题等等，我们都可以通过自定义异常类来表示。</p>
        </li>
        <li><p><strong>异常类如何定义:</strong></p>
            <p>
                保持一个合理的异常体系是很重要的，一般自定义一个异常UserException作为“根异常”，然后在此基础上再派生出不同的异常类型，自定义的“根异常”需要从一个合适的现有异常中派生出来，通常建议派生自<code>java.lang.RuntimeException</code>。
            </p>
            <p>&quot;根异常&quot;：</p>
            <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false"
                 cid="n210" mdtype="fences">public class UserException extends RuntimeException {
 }
</pre>
            <p>其他异常从”根异常“派生出来：</p>
            <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false"
                 cid="n212" mdtype="fences">public class UserExistedException extends UserException {
}

public class UserNotFoundException extends UserException {
}
...
</pre>
            <p>自定义的“根异常”通常提供多个构造方法，直接调用父类的即可：</p>
            <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false"
                 cid="n214" mdtype="fences" style="break-inside: unset;">//用户异常类
public class UserException extends RuntimeException {
    public UserException() {
    }

    public UserException(String message) {
        super(message);
    }

    public UserException(String message, Throwable cause) {
        super(message, cause);
    }

    public UserException(Throwable cause) {
        super(cause);
    }

}
</pre>
            <p>派生出的异常，提供简单两个构造方法，够用即可：</p>
            <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false"
                 cid="n216" mdtype="fences">//用户已经存在异常类
public class UserExistedException extends UserException {
    public UserExistedException() {
    }
	
    public UserExistedException(String message) {
        super(message);
    }
}
</pre>
        </li>
        <li><p><strong>演示自定义异常：</strong></p>
            <p>要求：结合上面自定义的异常类，模拟注册操作，如果用户名已存在，则抛出异常并提示：亲，该用户名已经被注册。</p>
            <p>模拟登陆操作，使用数组模拟数据库中存储的数据，并提供当前注册账号是否存在方法用于判断。</p>
            <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false"
                 cid="n221" mdtype="fences" style="break-inside: unset;">public class DemoUserException {
    // 模拟数据库中已存在账号
    private static String[] names = {"bill","hill","jill"};

    public static void main(String[] args) {
        //调用方法
        try{
            // 可能出现异常的代码
            checkUsername("bill");
            System.out.println("注册成功");//如果没有异常就是注册成功
        }catch(UserExistedException e){
            //处理异常
            e.printStackTrace();
        }
    }

    //判断当前注册账号是否存在
    //因为是编译期异常，又想调用者去处理 所以声明该异常
    public static boolean checkUsername(String uname) {
        for (int i=0; i&lt;names.length; i++) {
            if(names[i].equals(uname)){//如果名字在这里面 就抛出登陆异常
                throw new UserExistedException("亲"+uname+"已经被注册了！");
            }
        }
        return true;
    }
}

</pre>
        </li>
        <li><p><strong>小结：</strong></p>
            <ul>
                <li>自定义异常从Exception类或者它的子类派生一个子类即可，通常建议从RuntimeException派生。</li>
                <li>自定义异常类通常至少包含2个构造器：一个是无参构造，另一个是带有详细信息的构造器</li>
                <li>自定义的异常只能通过throw关键字抛出。</li>
                <li>自定义异常最重要的是异常类的名字，当异常出现时，可以根据名字判断异常类型。</li>
            </ul>
            <p>&nbsp;</p></li>
    </ol>
    <h2><a name='header-n234' class='md-header-anchor '></a>8.7 异常关键字和注意事项总结</h2>
    <ol start=''>
        <li><p><strong>异常处理中的5个关键字</strong></p>
            <p><img src='imgs08\异常关键字.png' alt='' referrerPolicy='no-referrer'/></p></li>
        <li><p><strong>异常处理注意事项</strong></p>
            <ul>
                <li>编译期异常必须处理，要么捕获处理，要么声明在方法上，让调用者处理。</li>
                <li>运行时异常被抛出可以不处理。即不捕获也不声明抛出。</li>
                <li>try语句范围要尽量小的包围在可能出现异常的一行或几行代码上，不要把大量无异常的代码一起包起来，虽然这样很省事。</li>
                <li>catch语句捕获的异常类型要尽量小，尽量精准，好针对性的做处理。</li>
                <li>如果finally有return语句,永远返回finally中的结果,但要避免该情况.</li>
                <li>如果父类方法抛出了多个异常,子类重写父类方法时不能抛出更大异常,可以抛出和父类相同的异常或者是父类异常的子类或者不抛出异常。</li>
                <li>父类方法没有抛出异常，子类重写父类该方法时也不可抛出异常。</li>
            </ul>
        </li>
    </ol>
    <p>&nbsp;</p>
    <h2><a name='header-n257' class='md-header-anchor '></a>感悟</h2>
    <p><img src='imgs08/1562932974091.png' alt='1562932974091' referrerPolicy='no-referrer'/></p>
    <p>&nbsp;</p>
    <figure>
        <table>
            <thead>
            <tr>
                <th style='text-align:right;'><a href='../javaSE.html'>回目录</a></th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style='text-align:right;'>教程版本：1.2 更新日期：2019年1月3日</td>
            </tr>
            </tbody>
        </table>
    </figure>
</div>
</body>
</html>