<!doctype html>
<html>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width initial-scale=1'>
    <title>JavaSE_第15章反射</title>
    <link href='https://fonts.loli.net/css?family=PT+Serif:400,400italic,700,700italic&subset=latin,cyrillic-ext,cyrillic,latin-ext'
          rel='stylesheet' type='text/css'/>
    <style type='text/css'>html {
        overflow-x: initial !important;
    }

    :root {
        --bg-color: #ffffff;
        --text-color: #333333;
        --select-text-bg-color: #B5D6FC;
        --select-text-font-color: auto;
        --monospace: "Lucida Console", Consolas, "Courier", monospace;
    }

    html {
        font-size: 14px;
        background-color: var(--bg-color);
        color: var(--text-color);
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        -webkit-font-smoothing: antialiased;
    }

    body {
        margin: 0px;
        padding: 0px;
        height: auto;
        bottom: 0px;
        top: 0px;
        left: 0px;
        right: 0px;
        font-size: 1rem;
        line-height: 1.42857;
        overflow-x: hidden;
        background: inherit;
    }

    iframe {
        margin: auto;
    }

    a.url {
        word-break: break-all;
    }

    a:active, a:hover {
        outline: 0px;
    }

    .in-text-selection, ::selection {
        text-shadow: none;
        background: var(--select-text-bg-color);
        color: var(--select-text-font-color);
    }

    #write {
        margin: 0px auto;
        height: auto;
        width: inherit;
        word-break: normal;
        word-wrap: break-word;
        position: relative;
        white-space: normal;
        overflow-x: visible;
        padding-top: 40px;
    }

    #write.first-line-indent p {
        text-indent: 2em;
    }

    #write.first-line-indent li p, #write.first-line-indent p * {
        text-indent: 0px;
    }

    #write.first-line-indent li {
        margin-left: 2em;
    }

    .for-image #write {
        padding-left: 8px;
        padding-right: 8px;
    }

    body.typora-export {
        padding-left: 30px;
        padding-right: 30px;
    }

    .typora-export .footnote-line, .typora-export li, .typora-export p {
        white-space: pre-wrap;
    }

    @media screen and (max-width: 500px) {
        body.typora-export {
            padding-left: 0px;
            padding-right: 0px;
        }

        #write {
            padding-left: 20px;
            padding-right: 20px;
        }

        .CodeMirror-sizer {
            margin-left: 0px !important;
        }

        .CodeMirror-gutters {
            display: none !important;
        }
    }

    #write li > figure:first-child {
        margin-top: -20px;
    }

    #write ol, #write ul {
        position: relative;
    }

    img {
        max-width: 100%;
        vertical-align: middle;
    }

    button, input, select, textarea {
        color: inherit;
        font-style: inherit;
        font-variant: inherit;
        font-weight: inherit;
        font-stretch: inherit;
        font-size: inherit;
        line-height: inherit;
        font-family: inherit;
    }

    input[type="checkbox"], input[type="radio"] {
        line-height: normal;
        padding: 0px;
    }

    *, ::after, ::before {
        box-sizing: border-box;
    }

    #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre {
        width: inherit;
    }

    #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p {
        position: relative;
    }

    h1, h2, h3, h4, h5, h6 {
        break-after: avoid-page;
        break-inside: avoid;
        orphans: 2;
    }

    p {
        orphans: 4;
    }

    h1 {
        font-size: 2rem;
    }

    h2 {
        font-size: 1.8rem;
    }

    h3 {
        font-size: 1.6rem;
    }

    h4 {
        font-size: 1.4rem;
    }

    h5 {
        font-size: 1.2rem;
    }

    h6 {
        font-size: 1rem;
    }

    .md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p {
        margin-top: 1rem;
        margin-bottom: 1rem;
    }

    .hidden {
        display: none;
    }

    .md-blockmeta {
        color: rgb(204, 204, 204);
        font-weight: 700;
        font-style: italic;
    }

    a {
        cursor: pointer;
    }

    sup.md-footnote {
        padding: 2px 4px;
        background-color: rgba(238, 238, 238, 0.7);
        color: rgb(85, 85, 85);
        border-radius: 4px;
        cursor: pointer;
    }

    sup.md-footnote a, sup.md-footnote a:hover {
        color: inherit;
        text-transform: inherit;
        text-decoration: inherit;
    }

    #write input[type="checkbox"] {
        cursor: pointer;
        width: inherit;
        height: inherit;
    }

    figure {
        overflow-x: auto;
        margin: 1.2em 0px;
        max-width: calc(100% + 16px);
        padding: 0px;
    }

    figure > table {
        margin: 0px !important;
    }

    tr {
        break-inside: avoid;
        break-after: auto;
    }

    thead {
        display: table-header-group;
    }

    table {
        border-collapse: collapse;
        border-spacing: 0px;
        width: 100%;
        overflow: auto;
        break-inside: auto;
        text-align: left;
    }

    table.md-table td {
        min-width: 32px;
    }

    .CodeMirror-gutters {
        border-right: 0px;
        background-color: inherit;
    }

    .CodeMirror {
        text-align: left;
    }

    .CodeMirror-placeholder {
        opacity: 0.3;
    }

    .CodeMirror pre {
        padding: 0px 4px;
    }

    .CodeMirror-lines {
        padding: 0px;
    }

    div.hr:focus {
        cursor: none;
    }

    #write pre {
        white-space: pre-wrap;
    }

    #write.fences-no-line-wrapping pre {
        white-space: pre;
    }

    #write pre.ty-contain-cm {
        white-space: normal;
    }

    .CodeMirror-gutters {
        margin-right: 4px;
    }

    .md-fences {
        font-size: 0.9rem;
        display: block;
        break-inside: avoid;
        text-align: left;
        overflow: visible;
        white-space: pre;
        background: inherit;
        position: relative !important;
    }

    .md-diagram-panel {
        width: 100%;
        margin-top: 10px;
        text-align: center;
        padding-top: 0px;
        padding-bottom: 8px;
        overflow-x: auto;
    }

    #write .md-fences.mock-cm {
        white-space: pre-wrap;
    }

    .md-fences.md-fences-with-lineno {
        padding-left: 0px;
    }

    #write.fences-no-line-wrapping .md-fences.mock-cm {
        white-space: pre;
        overflow-x: auto;
    }

    .md-fences.mock-cm.md-fences-with-lineno {
        padding-left: 8px;
    }

    .CodeMirror-line, twitterwidget {
        break-inside: avoid;
    }

    .footnotes {
        opacity: 0.8;
        font-size: 0.9rem;
        margin-top: 1em;
        margin-bottom: 1em;
    }

    .footnotes + .footnotes {
        margin-top: 0px;
    }

    .md-reset {
        margin: 0px;
        padding: 0px;
        border: 0px;
        outline: 0px;
        vertical-align: top;
        background: 0px 0px;
        text-decoration: none;
        text-shadow: none;
        float: none;
        position: static;
        width: auto;
        height: auto;
        white-space: nowrap;
        cursor: inherit;
        -webkit-tap-highlight-color: transparent;
        line-height: normal;
        font-weight: 400;
        text-align: left;
        box-sizing: content-box;
        direction: ltr;
    }

    li div {
        padding-top: 0px;
    }

    blockquote {
        margin: 1rem 0px;
    }

    li .mathjax-block, li p {
        margin: 0.5rem 0px;
    }

    li {
        margin: 0px;
        position: relative;
    }

    blockquote > :last-child {
        margin-bottom: 0px;
    }

    blockquote > :first-child, li > :first-child {
        margin-top: 0px;
    }

    .footnotes-area {
        color: rgb(136, 136, 136);
        margin-top: 0.714rem;
        padding-bottom: 0.143rem;
        white-space: normal;
    }

    #write .footnote-line {
        white-space: pre-wrap;
    }

    @media print {
        body, html {
            border: 1px solid transparent;
            height: 99%;
            break-after: avoid;
            break-before: avoid;
        }

        #write {
            margin-top: 0px;
            padding-top: 0px;
            border-color: transparent !important;
        }

        .typora-export * {
            -webkit-print-color-adjust: exact;
        }

        html.blink-to-pdf {
            font-size: 13px;
        }

        .typora-export #write {
            padding-left: 32px;
            padding-right: 32px;
            padding-bottom: 0px;
            break-after: avoid;
        }

        .typora-export #write::after {
            height: 0px;
        }

        @page {
            margin: 20mm 0px;
        }
    }

    .footnote-line {
        margin-top: 0.714em;
        font-size: 0.7em;
    }

    a img, img a {
        cursor: pointer;
    }

    pre.md-meta-block {
        font-size: 0.8rem;
        min-height: 0.8rem;
        white-space: pre-wrap;
        background: rgb(204, 204, 204);
        display: block;
        overflow-x: hidden;
    }

    p > .md-image:only-child:not(.md-img-error) img, p > img:only-child {
        display: block;
        margin: auto;
    }

    p > .md-image:only-child {
        display: inline-block;
        width: 100%;
    }

    #write .MathJax_Display {
        margin: 0.8em 0px 0px;
    }

    .md-math-block {
        width: 100%;
    }

    .md-math-block:not(:empty)::after {
        display: none;
    }

    [contenteditable="true"]:active, [contenteditable="true"]:focus {
        outline: 0px;
        box-shadow: none;
    }

    .md-task-list-item {
        position: relative;
        list-style-type: none;
    }

    .task-list-item.md-task-list-item {
        padding-left: 0px;
    }

    .md-task-list-item > input {
        position: absolute;
        top: 0px;
        left: 0px;
        margin-left: -1.2em;
        margin-top: calc(1em - 10px);
        border: none;
    }

    .math {
        font-size: 1rem;
    }

    .md-toc {
        min-height: 3.58rem;
        position: relative;
        font-size: 0.9rem;
        border-radius: 10px;
    }

    .md-toc-content {
        position: relative;
        margin-left: 0px;
    }

    .md-toc-content::after, .md-toc::after {
        display: none;
    }

    .md-toc-item {
        display: block;
        color: rgb(65, 131, 196);
    }

    .md-toc-item a {
        text-decoration: none;
    }

    .md-toc-inner:hover {
        text-decoration: underline;
    }

    .md-toc-inner {
        display: inline-block;
        cursor: pointer;
    }

    .md-toc-h1 .md-toc-inner {
        margin-left: 0px;
        font-weight: 700;
    }

    .md-toc-h2 .md-toc-inner {
        margin-left: 2em;
    }

    .md-toc-h3 .md-toc-inner {
        margin-left: 4em;
    }

    .md-toc-h4 .md-toc-inner {
        margin-left: 6em;
    }

    .md-toc-h5 .md-toc-inner {
        margin-left: 8em;
    }

    .md-toc-h6 .md-toc-inner {
        margin-left: 10em;
    }

    @media screen and (max-width: 48em) {
        .md-toc-h3 .md-toc-inner {
            margin-left: 3.5em;
        }

        .md-toc-h4 .md-toc-inner {
            margin-left: 5em;
        }

        .md-toc-h5 .md-toc-inner {
            margin-left: 6.5em;
        }

        .md-toc-h6 .md-toc-inner {
            margin-left: 8em;
        }
    }

    a.md-toc-inner {
        font-size: inherit;
        font-style: inherit;
        font-weight: inherit;
        line-height: inherit;
    }

    .footnote-line a:not(.reversefootnote) {
        color: inherit;
    }

    .md-attr {
        display: none;
    }

    .md-fn-count::after {
        content: ".";
    }

    code, pre, samp, tt {
        font-family: var(--monospace);
    }

    kbd {
        margin: 0px 0.1em;
        padding: 0.1em 0.6em;
        font-size: 0.8em;
        color: rgb(36, 39, 41);
        background: rgb(255, 255, 255);
        border: 1px solid rgb(173, 179, 185);
        border-radius: 3px;
        box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset;
        white-space: nowrap;
        vertical-align: middle;
    }

    .md-comment {
        color: rgb(162, 127, 3);
        opacity: 0.8;
        font-family: var(--monospace);
    }

    code {
        text-align: left;
        vertical-align: initial;
    }

    a.md-print-anchor {
        white-space: pre !important;
        border-width: initial !important;
        border-style: none !important;
        border-color: initial !important;
        display: inline-block !important;
        position: absolute !important;
        width: 1px !important;
        right: 0px !important;
        outline: 0px !important;
        background: 0px 0px !important;
        text-decoration: initial !important;
        text-shadow: initial !important;
    }

    .md-inline-math .MathJax_SVG .noError {
        display: none !important;
    }

    .html-for-mac .inline-math-svg .MathJax_SVG {
        vertical-align: 0.2px;
    }

    .md-math-block .MathJax_SVG_Display {
        text-align: center;
        margin: 0px;
        position: relative;
        text-indent: 0px;
        max-width: none;
        max-height: none;
        min-height: 0px;
        min-width: 100%;
        width: auto;
        overflow-y: hidden;
        display: block !important;
    }

    .MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display {
        width: auto;
        margin: inherit;
        display: inline-block !important;
    }

    .MathJax_SVG .MJX-monospace {
        font-family: var(--monospace);
    }

    .MathJax_SVG .MJX-sans-serif {
        font-family: sans-serif;
    }

    .MathJax_SVG {
        display: inline;
        font-style: normal;
        font-weight: 400;
        line-height: normal;
        zoom: 90%;
        text-indent: 0px;
        text-align: left;
        text-transform: none;
        letter-spacing: normal;
        word-spacing: normal;
        word-wrap: normal;
        white-space: nowrap;
        float: none;
        direction: ltr;
        max-width: none;
        max-height: none;
        min-width: 0px;
        min-height: 0px;
        border: 0px;
        padding: 0px;
        margin: 0px;
    }

    .MathJax_SVG * {
        transition: none;
    }

    .MathJax_SVG_Display svg {
        vertical-align: middle !important;
        margin-bottom: 0px !important;
    }

    .os-windows.monocolor-emoji .md-emoji {
        font-family: "Segoe UI Symbol", sans-serif;
    }

    .md-diagram-panel > svg {
        max-width: 100%;
    }

    [lang="mermaid"] svg, [lang="flow"] svg {
        max-width: 100%;
    }

    [lang="mermaid"] .node text {
        font-size: 1rem;
    }

    table tr th {
        border-bottom: 0px;
    }

    video {
        max-width: 100%;
        display: block;
        margin: 0px auto;
    }

    iframe {
        max-width: 100%;
        width: 100%;
        border: none;
    }

    .highlight td, .highlight tr {
        border: 0px;
    }


    .CodeMirror {
        height: auto;
    }

    .CodeMirror.cm-s-inner {
        background: inherit;
    }

    .CodeMirror-scroll {
        overflow-y: hidden;
        overflow-x: auto;
        z-index: 3;
    }

    .CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler {
        background-color: rgb(255, 255, 255);
    }

    .CodeMirror-gutters {
        border-right: 1px solid rgb(221, 221, 221);
        background: inherit;
        white-space: nowrap;
    }

    .CodeMirror-linenumber {
        padding: 0px 3px 0px 5px;
        text-align: right;
        color: rgb(153, 153, 153);
    }

    .cm-s-inner .cm-keyword {
        color: rgb(119, 0, 136);
    }

    .cm-s-inner .cm-atom, .cm-s-inner.cm-atom {
        color: rgb(34, 17, 153);
    }

    .cm-s-inner .cm-number {
        color: rgb(17, 102, 68);
    }

    .cm-s-inner .cm-def {
        color: rgb(0, 0, 255);
    }

    .cm-s-inner .cm-variable {
        color: rgb(0, 0, 0);
    }

    .cm-s-inner .cm-variable-2 {
        color: rgb(0, 85, 170);
    }

    .cm-s-inner .cm-variable-3 {
        color: rgb(0, 136, 85);
    }

    .cm-s-inner .cm-string {
        color: rgb(170, 17, 17);
    }

    .cm-s-inner .cm-property {
        color: rgb(0, 0, 0);
    }

    .cm-s-inner .cm-operator {
        color: rgb(152, 26, 26);
    }

    .cm-s-inner .cm-comment, .cm-s-inner.cm-comment {
        color: rgb(170, 85, 0);
    }

    .cm-s-inner .cm-string-2 {
        color: rgb(255, 85, 0);
    }

    .cm-s-inner .cm-meta {
        color: rgb(85, 85, 85);
    }

    .cm-s-inner .cm-qualifier {
        color: rgb(85, 85, 85);
    }

    .cm-s-inner .cm-builtin {
        color: rgb(51, 0, 170);
    }

    .cm-s-inner .cm-bracket {
        color: rgb(153, 153, 119);
    }

    .cm-s-inner .cm-tag {
        color: rgb(17, 119, 0);
    }

    .cm-s-inner .cm-attribute {
        color: rgb(0, 0, 204);
    }

    .cm-s-inner .cm-header, .cm-s-inner.cm-header {
        color: rgb(0, 0, 255);
    }

    .cm-s-inner .cm-quote, .cm-s-inner.cm-quote {
        color: rgb(0, 153, 0);
    }

    .cm-s-inner .cm-hr, .cm-s-inner.cm-hr {
        color: rgb(153, 153, 153);
    }

    .cm-s-inner .cm-link, .cm-s-inner.cm-link {
        color: rgb(0, 0, 204);
    }

    .cm-negative {
        color: rgb(221, 68, 68);
    }

    .cm-positive {
        color: rgb(34, 153, 34);
    }

    .cm-header, .cm-strong {
        font-weight: 700;
    }

    .cm-del {
        text-decoration: line-through;
    }

    .cm-em {
        font-style: italic;
    }

    .cm-link {
        text-decoration: underline;
    }

    .cm-error {
        color: red;
    }

    .cm-invalidchar {
        color: red;
    }

    .cm-constant {
        color: rgb(38, 139, 210);
    }

    .cm-defined {
        color: rgb(181, 137, 0);
    }

    div.CodeMirror span.CodeMirror-matchingbracket {
        color: rgb(0, 255, 0);
    }

    div.CodeMirror span.CodeMirror-nonmatchingbracket {
        color: rgb(255, 34, 34);
    }

    .cm-s-inner .CodeMirror-activeline-background {
        background: inherit;
    }

    .CodeMirror {
        position: relative;
        overflow: hidden;
    }

    .CodeMirror-scroll {
        height: 100%;
        outline: 0px;
        position: relative;
        box-sizing: content-box;
        background: inherit;
    }

    .CodeMirror-sizer {
        position: relative;
    }

    .CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar {
        position: absolute;
        z-index: 6;
        display: none;
    }

    .CodeMirror-vscrollbar {
        right: 0px;
        top: 0px;
        overflow: hidden;
    }

    .CodeMirror-hscrollbar {
        bottom: 0px;
        left: 0px;
        overflow: hidden;
    }

    .CodeMirror-scrollbar-filler {
        right: 0px;
        bottom: 0px;
    }

    .CodeMirror-gutter-filler {
        left: 0px;
        bottom: 0px;
    }

    .CodeMirror-gutters {
        position: absolute;
        left: 0px;
        top: 0px;
        padding-bottom: 30px;
        z-index: 3;
    }

    .CodeMirror-gutter {
        white-space: normal;
        height: 100%;
        box-sizing: content-box;
        padding-bottom: 30px;
        margin-bottom: -32px;
        display: inline-block;
    }

    .CodeMirror-gutter-wrapper {
        position: absolute;
        z-index: 4;
        background: 0px 0px !important;
        border: none !important;
    }

    .CodeMirror-gutter-background {
        position: absolute;
        top: 0px;
        bottom: 0px;
        z-index: 4;
    }

    .CodeMirror-gutter-elt {
        position: absolute;
        cursor: default;
        z-index: 4;
    }

    .CodeMirror-lines {
        cursor: text;
    }

    .CodeMirror pre {
        border-radius: 0px;
        border-width: 0px;
        background: 0px 0px;
        font-family: inherit;
        font-size: inherit;
        margin: 0px;
        white-space: pre;
        word-wrap: normal;
        color: inherit;
        z-index: 2;
        position: relative;
        overflow: visible;
    }

    .CodeMirror-wrap pre {
        word-wrap: break-word;
        white-space: pre-wrap;
        word-break: normal;
    }

    .CodeMirror-code pre {
        border-right: 30px solid transparent;
        width: fit-content;
    }

    .CodeMirror-wrap .CodeMirror-code pre {
        border-right: none;
        width: auto;
    }

    .CodeMirror-linebackground {
        position: absolute;
        left: 0px;
        right: 0px;
        top: 0px;
        bottom: 0px;
        z-index: 0;
    }

    .CodeMirror-linewidget {
        position: relative;
        z-index: 2;
        overflow: auto;
    }

    .CodeMirror-wrap .CodeMirror-scroll {
        overflow-x: hidden;
    }

    .CodeMirror-measure {
        position: absolute;
        width: 100%;
        height: 0px;
        overflow: hidden;
        visibility: hidden;
    }

    .CodeMirror-measure pre {
        position: static;
    }

    .CodeMirror div.CodeMirror-cursor {
        position: absolute;
        visibility: hidden;
        border-right: none;
        width: 0px;
    }

    .CodeMirror div.CodeMirror-cursor {
        visibility: hidden;
    }

    .CodeMirror-focused div.CodeMirror-cursor {
        visibility: inherit;
    }

    .cm-searching {
        background: rgba(255, 255, 0, 0.4);
    }

    @media print {
        .CodeMirror div.CodeMirror-cursor {
            visibility: hidden;
        }
    }


    :root {
        --active-file-bg-color: rgba(32, 43, 51, 0.63);
        --active-file-text-color: white;
        --bg-color: #f3f2ee;
        --text-color: #1f0909;
        --control-text-color: #444;
        --rawblock-edit-panel-bd: #e5e5e5;
        --select-text-bg-color: rgba(32, 43, 51, 0.63);
        --select-text-font-color: white;
    }

    pre {
        --select-text-bg-color: #36284e;
        --select-text-font-color: #fff;
    }

    html {
        font-size: 16px;
    }

    html, body {
        background-color: rgb(243, 242, 238);
        font-family: "PT Serif", "Times New Roman", Times, serif;
        color: rgb(31, 9, 9);
        line-height: 1.5em;
    }

    #write {
        max-width: 40em;
    }

    ol li {
        list-style-type: decimal;
        list-style-position: outside;
    }

    ul li {
        list-style-type: disc;
        list-style-position: outside;
    }

    ol, ul {
        list-style: none;
    }

    blockquote, q {
        quotes: none;
    }

    blockquote::before, blockquote::after, q::before, q::after {
        content: none;
    }

    table {
        border-collapse: collapse;
        border-spacing: 0px;
    }

    h1, h2, h3, h4, h5, h6 {
        font-weight: bold;
    }

    h1 {
        font-size: 1.875em;
        line-height: 1.6em;
        margin-top: 2em;
    }

    h2, h3 {
        font-size: 1.3125em;
        line-height: 1.15;
        margin-top: 2.28571em;
        margin-bottom: 1.15em;
    }

    h3 {
        font-weight: normal;
    }

    h4 {
        font-size: 1.125em;
        margin-top: 2.67em;
    }

    h5, h6 {
        font-size: 1em;
    }

    h1 {
        border-bottom: 1px solid;
        margin-bottom: 1.875em;
        padding-bottom: 0.8125em;
    }

    a {
        text-decoration: none;
        color: rgb(6, 85, 136);
    }

    a:hover, a:active {
        text-decoration: underline;
    }

    p, blockquote, .md-fences {
        margin-bottom: 1.5em;
    }

    h1, h2, h3, h4, h5, h6 {
        margin-bottom: 1.5em;
    }

    blockquote {
        font-style: italic;
        border-left: 5px solid;
        margin-left: 2em;
        padding-left: 1em;
    }

    ul, ol {
        margin: 0px 0px 1.5em 1.5em;
    }

    .md-meta, .md-before, .md-after {
        color: rgb(153, 153, 153);
    }

    table {
        margin-bottom: 1.5em;
        font-size: 1em;
    }

    thead th, tfoot th {
        padding: 0.25em 0.25em 0.25em 0.4em;
        text-transform: uppercase;
    }

    th {
        text-align: left;
    }

    td {
        vertical-align: top;
        padding: 0.25em 0.25em 0.25em 0.4em;
    }

    code, .md-fences {
        background-color: rgb(218, 218, 218);
    }

    code {
        padding-left: 2px;
        padding-right: 2px;
    }

    .md-fences {
        margin-left: 2em;
        margin-bottom: 3em;
        padding-left: 1ch;
        padding-right: 1ch;
    }

    pre, code, tt {
        font-size: 0.875em;
        line-height: 1.71429em;
    }

    h1 {
        line-height: 1.3em;
        font-weight: normal;
        margin-bottom: 0.5em;
    }

    p + ul, p + ol {
        margin-top: 0.5em;
    }

    h3 + ul, h4 + ul, h5 + ul, h6 + ul, h3 + ol, h4 + ol, h5 + ol, h6 + ol {
        margin-top: 0.5em;
    }

    li > ul, li > ol {
        margin-top: inherit;
        margin-bottom: 0px;
    }

    li ol > li {
        list-style-type: lower-alpha;
    }

    li li ol > li {
        list-style-type: lower-roman;
    }

    h2, h3 {
        margin-bottom: 0.75em;
    }

    hr {
        border-top: none;
        border-right: none;
        border-bottom: 1px solid;
        border-left: none;
    }

    h1 {
        border-color: rgb(197, 197, 197);
    }

    blockquote {
        border-color: rgb(186, 186, 186);
        color: rgb(101, 101, 101);
    }

    blockquote ul, blockquote ol {
        margin-left: 0px;
    }

    .ty-table-edit {
        background-color: transparent;
    }

    thead {
        background-color: rgb(218, 218, 218);
    }

    tr:nth-child(2n) {
        background: rgb(232, 231, 231);
    }

    hr {
        border-color: rgb(197, 197, 197);
    }

    .task-list {
        padding-left: 1rem;
    }

    .md-task-list-item {
        padding-left: 1.5rem;
        list-style-type: none;
    }

    .md-task-list-item > input::before {
        content: "√";
        display: inline-block;
        width: 1.25rem;
        height: 1.6rem;
        vertical-align: middle;
        text-align: center;
        color: rgb(221, 221, 221);
        background-color: rgb(243, 242, 238);
    }

    .md-task-list-item > input:checked::before, .md-task-list-item > input[checked]::before {
        color: inherit;
    }

    #write pre.md-meta-block {
        min-height: 1.875rem;
        color: rgb(85, 85, 85);
        border: 0px;
        background: transparent;
        margin-left: 1em;
        margin-top: 1em;
    }

    .md-image > .md-meta {
        color: rgb(155, 81, 70);
    }

    .md-image > .md-meta {
        font-family: Menlo, "Ubuntu Mono", Consolas, "Courier New", "Microsoft Yahei", "Hiragino Sans GB", "WenQuanYi Micro Hei", serif;
    }

    #write > h3.md-focus::before {
        left: -1.5rem;
        color: rgb(153, 153, 153);
        border-color: rgb(153, 153, 153);
    }

    #write > h4.md-focus::before {
        left: -1.5rem;
        top: 0.25rem;
        color: rgb(153, 153, 153);
        border-color: rgb(153, 153, 153);
    }

    #write > h5.md-focus::before {
        left: -1.5rem;
        color: rgb(153, 153, 153);
        border-color: rgb(153, 153, 153);
    }

    #write > h6.md-focus::before {
        left: -1.5rem;
        top: 0.3125rem;
        color: rgb(153, 153, 153);
        border-color: rgb(153, 153, 153);
    }

    .md-toc:focus .md-toc-content {
        margin-top: 19px;
    }

    .md-toc-content:empty::before {
        color: rgb(6, 85, 136);
    }

    .md-toc-item {
        color: rgb(6, 85, 136);
    }

    #write div.md-toc-tooltip {
        background-color: rgb(243, 242, 238);
    }

    #typora-sidebar {
        background-color: rgb(243, 242, 238);
        box-shadow: rgba(0, 0, 0, 0.376) 0px 6px 12px;
    }

    .pin-outline #typora-sidebar {
        background: inherit;
        box-shadow: none;
        border-right: 1px dashed;
    }

    .pin-outline #typora-sidebar:hover .outline-title-wrapper {
        border-left: 1px dashed;
    }

    .outline-item:hover {
        background-color: rgb(218, 218, 218);
        border-left: 28px solid rgb(218, 218, 218);
        border-right: 18px solid rgb(218, 218, 218);
    }

    .typora-node .outline-item:hover {
        border-right: 28px solid rgb(218, 218, 218);
    }

    .outline-expander::before {
        content: "";
        font-family: FontAwesome;
        font-size: 14px;
        top: 1px;
    }

    .outline-expander:hover::before, .outline-item-open > .outline-item > .outline-expander::before {
        content: "";
    }

    .modal-content {
        background-color: rgb(243, 242, 238);
    }

    .auto-suggest-container ul li {
        list-style-type: none;
    }

    .megamenu-menu, #top-titlebar, #top-titlebar *, .megamenu-content {
        background: rgb(243, 242, 238);
        color: rgb(31, 9, 9);
    }

    .megamenu-menu-header {
        border-bottom: 1px dashed rgb(32, 43, 51);
    }

    .megamenu-menu {
        box-shadow: none;
        border-right: 1px dashed;
    }

    header, .context-menu, .megamenu-content, footer {
        font-family: "PT Serif", "Times New Roman", Times, serif;
        color: rgb(31, 9, 9);
    }

    #megamenu-back-btn {
        color: rgb(31, 9, 9);
        border-color: rgb(31, 9, 9);
    }

    .megamenu-menu-header #megamenu-menu-header-title::before {
        color: rgb(31, 9, 9);
    }

    .megamenu-menu-list li a:hover, .megamenu-menu-list li a.active {
        color: inherit;
        background-color: rgb(232, 231, 223);
    }

    .long-btn:hover {
        background-color: rgb(232, 231, 223);
    }

    #recent-file-panel tbody tr:nth-child(2n-1) {
        background-color: transparent !important;
    }

    .megamenu-menu-panel tbody tr:hover td:nth-child(2) {
        color: inherit;
    }

    .megamenu-menu-panel .btn {
        background-color: rgb(210, 209, 209);
    }

    .btn-default {
        background-color: transparent;
    }

    .typora-sourceview-on #toggle-sourceview-btn, .ty-show-word-count #footer-word-count {
        background: rgb(199, 197, 197);
    }

    #typora-quick-open {
        background-color: inherit;
    }

    .md-diagram-panel {
        margin-top: 8px;
    }

    .file-list-item-file-name {
        font-weight: initial;
    }

    .file-list-item-summary {
        opacity: 1;
    }

    .file-list-item {
        color: rgb(119, 119, 119);
    }

    .file-list-item.active {
        background-color: inherit;
        color: black;
    }

    .ty-side-sort-btn.active {
        background-color: inherit;
    }

    .file-list-item.active .file-list-item-file-name {
        font-weight: bold;
    }

    .file-list-item {
        opacity: 1 !important;
    }

    .file-library-node.active > .file-node-background {
        background-color: var(--active-file-bg-color);
    }

    .file-tree-node.active > .file-node-content {
        color: var(--active-file-text-color);
    }

    .md-task-list-item > input {
        margin-left: -1.6em;
        margin-top: calc(1rem - 12px);
    }

    input {
        border: 1px solid rgb(170, 170, 170);
    }

    .megamenu-menu-header #megamenu-menu-header-title, .megamenu-menu-header:hover, .megamenu-menu-header:focus {
        color: inherit;
    }

    .dropdown-menu .divider {
        border-color: rgb(229, 229, 229);
    }

    .os-windows-7 strong, .os-windows-7 strong {
        font-weight: 760;
    }


    .typora-export li, .typora-export p, .typora-export, .footnote-line {
        white-space: normal;
    }
    </style>
</head>
<body class='typora-export os-windows'>
<div id='write' class='is-node'><h1><a name='header-n0' class='md-header-anchor '></a>day21【反射】</h1>
    <h2><a name='header-n2' class='md-header-anchor '></a>主要内容</h2>
    <ul>
        <li>类加载过程</li>
        <li>类加载器</li>
        <li>反射</li>
    </ul>
    <h2><a name='header-n10' class='md-header-anchor '></a>学习目标</h2>
    <ul>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>了解类的加载过程</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>理解类初始化过程</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>了解类加载器</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>掌握获取Class对象的四种方式</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>能够运用反射获取类型的详细信息</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>能够运用反射动态创建对象</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>能够运用反射动态获取成员变量并使用</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>能够运用反射动态获取成员方法并使用</p></li>
        <li class='md-task-list-item task-list-item task-list-not-done'><input type='checkbox' disabled='disabled'/>
            <p>能够运用反射获取泛型父类的类型参数</p></li>
    </ul>
    <h1><a name='header-n30' class='md-header-anchor '></a>第一章 反射（Reflect）</h1>
    <h2><a name='header-n31' class='md-header-anchor '></a>1.1 类加载</h2>
    <p>类在内存中的生命周期：加载--&gt;使用--&gt;卸载</p>
    <h3><a name='header-n33' class='md-header-anchor '></a>1.1.1 类的加载过程</h3>
    <p>当程序主动使用某个类时，如果该类还未被加载到内存中，系统会通过加载、连接、初始化三个步骤来对该类进行初始化，如果没有意外，JVM将会连续完成这三个步骤，所以有时也把这三个步骤统称为类加载。</p>
    <p>类的加载又分为三个阶段：</p>
    <p>（1）加载：load</p>
    <p>就是指将类型的class字节码数据读入内存</p>
    <p>（2）连接：link</p>
    <p>①验证：校验合法性等</p>
    <p>②准备：准备对应的内存（方法区），创建Class对象，为类变量赋默认值</p>
    <p>③解析：把字节码中的符号引用替换为对应的直接地址引用</p>
    <p>（3）初始化：initialize（类初始化）即执行
        <clinit>类初始化方法，大多数情况下，类的加载就完成了类的初始化，有些情况下，会延迟类的初始化。
    </p>
    <p><img src='imgs15/1560767438339.png' alt='1560767438339' referrerPolicy='no-referrer'/></p>
    <h3><a name='header-n44' class='md-header-anchor '></a>1.1.2 类初始化</h3>
    <p>1、哪些操作会导致类的初始化？</p>
    <p>（1）运行主方法所在的类，要先完成类初始化，再执行main方法</p>
    <p>（2）第一次使用某个类型就是在new它的对象，此时这个类没有初始化的话，先完成类初始化再做实例初始化</p>
    <p>（3）调用某个类的静态成员（类变量和类方法），此时这个类没有初始化的话，先完成类初始化</p>
    <p>（4）子类初始化时，发现它的父类还没有初始化的话，那么先初始化父类</p>
    <p>（5）通过反射操作某个类时，如果这个类没有初始化，也会导致该类先初始化</p>
    <blockquote>
        <p>类初始化执行的是
            <clinit>()，该方法由（1）类变量的显式赋值代码（2）静态代码块中的代码构成
        </p>
    </blockquote>
    <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"
         style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div
            style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
            autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
            style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
            class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                 cm-not-content="true"></div><div
            class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                         style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
            style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
            role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
            class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
            class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                      style="position: relative;"><div
            class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
            class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-keyword">class</span> <span class="cm-def">Father</span>{</span></pre></div><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">static</span>{</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation"
                                                                               cm-text="	">    </span><span
            class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
            class="cm-variable">println</span>(<span class="cm-string">"main方法所在的类的父类(1)"</span>);<span
            class="cm-comment">//初始化子类时，会初始化父类</span></span></pre><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
            role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "
                                                                                 role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span
            class="cm-def">TestClinit1</span> <span class="cm-keyword">extends</span> <span
            class="cm-variable">Father</span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-keyword">static</span>{</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation"
                                                                               cm-text="	">    </span><span
            class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
            class="cm-variable">println</span>(<span class="cm-string">"main方法所在的类(2)"</span>);<span class="cm-comment">//主方法所在的类会初始化</span></span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
            role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-tab"
                                                                                             role="presentation"
                                                                                             cm-text="	">    </span></span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">public</span> <span
            class="cm-keyword">static</span> <span class="cm-variable-3">void</span> <span
            class="cm-variable">main</span>(<span class="cm-variable-3">String</span>[] <span
            class="cm-variable">args</span>) <span class="cm-keyword">throws</span> <span class="cm-variable">ClassNotFoundException</span> {</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation"
                                                                               cm-text="	">    </span><span
            class="cm-keyword">new</span> <span class="cm-variable">A</span>();<span class="cm-comment">//第一次使用A就是创建它的对象，会初始化A类</span></span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack"
                                                                style="padding-right: 0.1px;"><span class="cm-tab"
                                                                                                    role="presentation"
                                                                                                    cm-text="	">    </span><span
            class="cm-tab" role="presentation" cm-text="	">    </span></span></pre><pre class=" CodeMirror-line "
                                                                                           role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-tab"
                                                                                                    role="presentation"
                                                                                                    cm-text="	">    </span><span
            class="cm-variable">B</span>.<span class="cm-variable">test</span>();<span class="cm-comment">//直接使用B类的静态成员会初始化B类</span></span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack"
                                                                style="padding-right: 0.1px;"><span class="cm-tab"
                                                                                                    role="presentation"
                                                                                                    cm-text="	">    </span><span
            class="cm-tab" role="presentation" cm-text="	">    </span></span></pre><pre class=" CodeMirror-line "
                                                                                           role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-tab"
                                                                                                    role="presentation"
                                                                                                    cm-text="	">    </span><span
            class="cm-variable">Class</span> <span class="cm-variable">clazz</span> <span
            class="cm-operator">=</span> <span class="cm-variable">Class</span>.<span class="cm-variable">forName</span>(<span
            class="cm-string">"com.atguigu.test02.C"</span>);<span
            class="cm-comment">//通过反射操作C类，会初始化C类</span></span></pre><pre class=" CodeMirror-line "
                                                                         role="presentation"><span role="presentation"
                                                                                                   style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
            role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "
                                                                                 role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span> <span
            class="cm-def">A</span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-keyword">static</span>{</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation"
                                                                               cm-text="	">    </span><span
            class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
            class="cm-variable">println</span>(<span class="cm-string">"A类初始化"</span>);</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
            role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "
                                                                                 role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span> <span
            class="cm-def">B</span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-keyword">static</span>{</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation"
                                                                               cm-text="	">    </span><span
            class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
            class="cm-variable">println</span>(<span class="cm-string">"B类初始化"</span>);</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-keyword">public</span> <span
            class="cm-keyword">static</span> <span class="cm-variable-3">void</span> <span
            class="cm-variable">test</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-tab"
                                                                                                    role="presentation"
                                                                                                    cm-text="	">    </span><span
            class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
            class="cm-variable">println</span>(<span class="cm-string">"B类的静态方法"</span>);</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
            role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "
                                                                                 role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span> <span
            class="cm-def">C</span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-keyword">static</span>{</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation"
                                                                               cm-text="	">    </span><span
            class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
            class="cm-variable">println</span>(<span class="cm-string">"C类初始化"</span>);</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
            role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div
            style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1036px;"></div><div
            class="CodeMirror-gutters" style="display: none; height: 1036px;"></div></div></div></pre>
    <p>2、哪些使用类的操作，但是不会导致类的初始化？</p>
    <p>（1）使用某个类的静态的常量（static final）</p>
    <p>（2）通过子类调用父类的静态变量，静态方法，只会导致父类初始化，不会导致子类初始化，即只有声明静态成员的类才会初始化</p>
    <p>（3）用某个类型声明数组并创建数组对象时，不会导致这个类初始化</p>
    <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"
         style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div
            style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
            autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
            style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
            class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                 cm-not-content="true"></div><div
            class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                         style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
            style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
            role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
            class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
            class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                      style="position: relative;"><div
            class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
            class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span
            class="cm-def">TestClinit2</span> {</span></pre></div><pre class=" CodeMirror-line "
                                                                       role="presentation"><span role="presentation"
                                                                                                 style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">public</span> <span
            class="cm-keyword">static</span> <span class="cm-variable-3">void</span> <span
            class="cm-variable">main</span>(<span class="cm-variable-3">String</span>[] <span
            class="cm-variable">args</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-tab"
                                                                                                    role="presentation"
                                                                                                    cm-text="	">    </span><span
            class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
            class="cm-variable">println</span>(<span class="cm-variable">D</span>.<span class="cm-variable">NUM</span>);<span
            class="cm-comment">//D类不会初始化，因为NUM是final的</span></span></pre><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
            role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-tab"
                                                                                             role="presentation"
                                                                                             cm-text="	">    </span><span
            class="cm-tab" role="presentation" cm-text="	">    </span></span></pre><pre class=" CodeMirror-line "
                                                                                           role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-tab"
                                                                                                    role="presentation"
                                                                                                    cm-text="	">    </span><span
            class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
            class="cm-variable">println</span>(<span class="cm-variable">F</span>.<span class="cm-variable">num</span>);</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation"
                                                                               cm-text="	">    </span><span
            class="cm-variable">F</span>.<span class="cm-variable">test</span>();<span class="cm-comment">//F类不会初始化，E类会初始化，因为num和test()是在E类中声明的</span></span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack"
                                                                style="padding-right: 0.1px;"><span class="cm-tab"
                                                                                                    role="presentation"
                                                                                                    cm-text="	">    </span><span
            class="cm-tab" role="presentation" cm-text="	">    </span></span></pre><pre class=" CodeMirror-line "
                                                                                           role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-tab"
                                                                                                    role="presentation"
                                                                                                    cm-text="	">    </span><span
            class="cm-comment">//G类不会初始化，此时还没有正式用的G类</span></span></pre><pre class=" CodeMirror-line "
                                                                             role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-tab"
                                                                                                    role="presentation"
                                                                                                    cm-text="	">    </span><span
            class="cm-variable">G</span>[] <span class="cm-variable">arr</span> <span class="cm-operator">=</span> <span
            class="cm-keyword">new</span> <span class="cm-variable">G</span>[<span class="cm-number">5</span>];<span
            class="cm-comment">//没有创建G的对象，创建的是准备用来装G对象的数组对象</span></span></pre><pre class=" CodeMirror-line "
                                                                                    role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//G[]是一种新的类型，是数组类想，动态编译生成的一种新的类型</span></span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span
            class="cm-comment">//G[].class</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span>}</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                style="padding-right: 0.1px;">}</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-keyword">class</span> <span class="cm-def">D</span>{</span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-keyword">public</span> <span
            class="cm-keyword">static</span> <span class="cm-keyword">final</span> <span
            class="cm-variable-3">int</span> <span class="cm-variable">NUM</span> <span
            class="cm-operator">=</span> <span class="cm-number">10</span>;</span></pre><pre class=" CodeMirror-line "
                                                                                             role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-keyword">static</span>{</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation"
                                                                               cm-text="	">    </span><span
            class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
            class="cm-variable">println</span>(<span class="cm-string">"D类的初始化"</span>);</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
            role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "
                                                                                 role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span> <span
            class="cm-def">E</span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-keyword">static</span> <span
            class="cm-variable-3">int</span> <span class="cm-variable">num</span> <span
            class="cm-operator">=</span> <span class="cm-number">10</span>;</span></pre><pre class=" CodeMirror-line "
                                                                                             role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-keyword">static</span>{</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation"
                                                                               cm-text="	">    </span><span
            class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
            class="cm-variable">println</span>(<span class="cm-string">"E父类的初始化"</span>);</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-keyword">public</span> <span
            class="cm-keyword">static</span> <span class="cm-variable-3">void</span> <span
            class="cm-variable">test</span>(){</span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-tab"
                                                                                                    role="presentation"
                                                                                                    cm-text="	">    </span><span
            class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
            class="cm-variable">println</span>(<span class="cm-string">"父类的静态方法"</span>);</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
            role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "
                                                                                 role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span> <span
            class="cm-def">F</span> <span class="cm-keyword">extends</span> <span
            class="cm-variable">E</span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-keyword">static</span>{</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation"
                                                                               cm-text="	">    </span><span
            class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
            class="cm-variable">println</span>(<span class="cm-string">"F子类的初始化"</span>);</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
            role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "
                                                                                 role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-keyword">class</span> <span class="cm-def">G</span>{</span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-keyword">static</span>{</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation"
                                                                               cm-text="	">    </span><span
            class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
            class="cm-variable">println</span>(<span class="cm-string">"G类的初始化"</span>);</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line "
                                                                                            role="presentation"><span
            role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div
            style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1036px;"></div><div
            class="CodeMirror-gutters" style="display: none; height: 1036px;"></div></div></div></pre>
    <h3><a name='header-n59' class='md-header-anchor '></a>1.1.3 类加载器</h3>
    <p>
        很多开发人员都遇到过java.lang.ClassNotFoundException或java.lang.NoClassDefError，想要更好的解决这类问题，或者在一些特殊的应用场景，比如需要支持类的动态加载或需要对编译后的字节码文件进行加密解密操作，那么需要你自定义类加载器，因此了解类加载器及其类加载机制也就成了每一个Java开发人员的必备技能之一。</p>
    <p><strong>1、类加载器分为：</strong></p>
    <p>（1）引导类加载器（Bootstrap Classloader）又称为根类加载器</p>
    <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div
            class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div
            style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
            autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
            style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
            class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                 cm-not-content="true"></div><div
            class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                         style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
            style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
            role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
            class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
            class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div
            class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
            class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">它负责加载\jdk1.8.0_202\jre\lib\rt.jar核心库</span></pre></div><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">它本身不是Java代码实现的，也不是ClassLoader的子类，获取它的对象时往往返回null</span></pre></div></div></div></div></div><div
            style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 74px;"></div><div
            class="CodeMirror-gutters" style="display: none; height: 74px;"></div></div></div></pre>
    <p>（2）扩展类加载器（Extension ClassLoader）</p>
    <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div
            class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div
            style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
            autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
            style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
            class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                 cm-not-content="true"></div><div
            class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                         style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
            style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
            role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
            class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
            class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div
            class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
            class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">它负责加载jre/lib/ext扩展库</span></pre></div><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">它是ClassLoader的子类</span></pre></div></div></div></div></div><div
            style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 49px;"></div><div
            class="CodeMirror-gutters" style="display: none; height: 49px;"></div></div></div></pre>
    <p>（3）应用程序类加载器（Application Classloader）</p>
    <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div
            class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div
            style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
            autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
            style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
            class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                 cm-not-content="true"></div><div
            class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                         style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
            style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
            role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
            class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
            class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div
            class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
            class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">它负责加载项目的classpath路径下的类</span></pre></div><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                                                     style="padding-right: 0.1px;">它是ClassLoader的子类</span></pre></div></div></div></div></div><div
            style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 74px;"></div><div
            class="CodeMirror-gutters" style="display: none; height: 74px;"></div></div></div></pre>
    <p>（4）自定义类加载器</p>
    <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div
            class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div
            style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
            autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
            style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
            class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                 cm-not-content="true"></div><div
            class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                         style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
            style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
            role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
            class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
            class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div
            class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
            class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">当你的程序需要加载“特定”目录下的类，可以自定义类加载器；</span></pre></div><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">当你的程序的字节码文件需要加密时，那么往往会提供一个自定义类加载器对其进行解码</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">后面会见到的自定义类加载器：tomcat中</span></pre></div></div></div></div></div><div
            style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 99px;"></div><div
            class="CodeMirror-gutters" style="display: none; height: 99px;"></div></div></div></pre>
    <p><strong>2、Java系统类加载器的双亲委托模式</strong></p>
    <p>简单描述：</p>
    <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang=""><div
            class="CodeMirror cm-s-inner CodeMirror-wrap" lang=""><div
            style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
            autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
            style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
            class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                 cm-not-content="true"></div><div
            class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                         style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
            style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
            role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
            class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
            class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div
            class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
            class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">下一级的类加载器，如果接到任务时，会先搜索是否加载过，如果没有，会先把任务往上传，如果都没有加载过，一直到根加载器，如果根加载器在它负责的路径下没有找到，会往回传，如果一路回传到最后一级都没有找到，那么会报ClassNotFoundException或NoClassDefError，如果在某一级找到了，就直接返回Class对象。</span></pre></div></div></div></div></div></div><div
            style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 123px;"></div><div
            class="CodeMirror-gutters" style="display: none; height: 123px;"></div></div></div></pre>
    <p>应用程序类加载器 把 扩展类加载器视为父加载器，</p>
    <p>扩展类加载器 把 引导类加载器视为父加载器。</p>
    <p>不是继承关系，是组合的方式实现的。</p>
    <h2><a name='header-n76' class='md-header-anchor '></a>1.2 javalang.Class类</h2>
    <p>Java反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意一个方法和属性；这种动态获取的信息以及动态调用对象的方法的功能称为Java语言的反射机制。</p>
    <p>
        要想解剖一个类，必须先要获取到该类的Class对象。而剖析一个类或用反射解决具体的问题就是使用相关API（1）java.lang.Class（2）java.lang.reflect.*。所以，Class对象是反射的根源。</p>
    <h3><a name='header-n79' class='md-header-anchor '></a>1、哪些类型可以获对象</h3>
    <p>所有Java类型</p>
    <p>用代码示例</p>
    <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div
            class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div
            style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
            autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
            style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
            class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                 cm-not-content="true"></div><div
            class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                         style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
            style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
            role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div
            class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
            class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                      style="position: relative;"><div
            class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
            class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-comment">//（1）基本数据类型和void</span></span></pre></div><pre class=" CodeMirror-line "
                                                                              role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">例如：int</span>.<span
            class="cm-keyword">class</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span> <span
            class="cm-variable-3">void</span>.<span class="cm-keyword">class</span></span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-comment">//（2）类和接口</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-def">例如：String</span>.<span
            class="cm-keyword">class</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-def">Comparable</span>.<span
            class="cm-keyword">class</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//（3）枚举</span></span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-def">例如：ElementType</span>.<span class="cm-keyword">class</span></span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-comment">//（4）注解</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-def">例如：Override</span>.<span
            class="cm-keyword">class</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//（5）数组</span></span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-def">例如：int</span>[].<span
            class="cm-keyword">class</span></span></pre></div></div></div></div></div><div
            style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 296px;"></div><div
            class="CodeMirror-gutters" style="display: none; height: 296px;"></div></div></div></pre>
    <h3><a name='header-n83' class='md-header-anchor '></a>2、获取Class对象的四种方式</h3>
    <p>（1）类型名.class</p>
    <p>要求编译期间已知类型</p>
    <p>（2）对象.getClass()</p>
    <p>获取对象的运行时类型</p>
    <p>（3）Class.forName(类型全名称)</p>
    <p> 可以获取编译期间未知的类型</p>
    <p>（4）ClassLoader的类加载器对象.loadClass(类型全名称)</p>
    <p>可以用系统类加载对象或自定义加载器对象加载指定路径下的类型</p>
    <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n92"
         mdtype="fences" style="break-inside: unset;">public class TestClass {
	@Test
	public void test05() throws ClassNotFoundException{
		Class c = TestClass.class;
		ClassLoader loader = c.getClassLoader();
		
		Class c2 = loader.loadClass("com.atguigu.test05.Employee");
        //Class c2 = ClassLoader.getSystemClassLoader().loadClass("com.atguigu.test05.Employee");
		Class c3 = Employee.class;
		System.out.println(c2 == c3);
	}
	
	@Test
	public void test03() throws ClassNotFoundException{
		Class c2 = String.class;
		Class c1 = "".getClass();
		Class c3 = Class.forName("java.lang.String");
		
		System.out.println(c1 == c2);
		System.out.println(c1 == c3);
	}
}
</pre>
    <h3><a name='header-n93' class='md-header-anchor '></a>3、查看某个类的类加载器对象</h3>
    <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n94"
         mdtype="fences">//获取应用程序类加载器对象


//获取扩展类加载器对象


//获取根加载器对象
</pre>
    <h2><a name='header-n95' class='md-header-anchor '></a>1.3 反射的应用</h2>
    <h3><a name='header-n96' class='md-header-anchor '></a>1.3.1 通过反射获取无参构造方法并使用</h3>
    <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n97"
         mdtype="fences" style="break-inside: unset;">/*
 * 通过反射获取构造方法并使用。
 */
public class ReflectDemo {
	public static void main(String[] args) throws Exception {
		// 获取字节码文件对象
		Class c = Class.forName("com.atguigu.demo01.Person");
		// 获取构造方法
		// public Constructor[] getConstructors():所有公共构造方法
		// public Constructor[] getDeclaredConstructors():所有构造方法
		// Constructor[] cons = c.getDeclaredConstructors();
		// for (Constructor con : cons) {
		// System.out.println(con);
		// }

		// 获取单个构造方法
		// public Constructor&lt;T&gt; getConstructor(Class&lt;?&gt;... parameterTypes)
		// 参数表示的是：你要获取的构造方法的构造参数个数及数据类型的class字节码文件对象
		Constructor con = c.getConstructor();// 返回的是构造方法对象

		// Person p = new Person();
		// System.out.println(p);
		// public T newInstance(Object... initargs)
		// 使用此 Constructor 对象表示的构造方法来创建该构造方法的声明类的新实例，并用指定的初始化参数初始化该实例。
		Object obj = con.newInstance();
		System.out.println(obj);
		
		// Person p = (Person)obj;
		// p.show();
	}
}
</pre>
    <ul>
        <li><p>newInstance()和new关键字有什么区别</p>
            <ul>
                <li>两者创建对象的方式不同，前者是实用类的加载机制，后者则是直接创建一个对象</li>
                <li>newInstance创建对象是这个类必须已经加载过且已经连接，new创建对象是则不需要这个类加载过</li>
                <li>newInstance: 弱类型(GC是回收对象的限制条件很低，容易被回收)、低效率；new
                    强类型（GC不会自动回收，只有所有的指向对象的引用被移除是才会被回收，若对象生命周期已经结束，但引用没有被移除，经常会出现内存溢出）
                </li>
            </ul>
        </li>
    </ul>
    <h3><a name='header-n108' class='md-header-anchor '></a>1.3.2 通过反射获取带参构造方法并使用</h3>
    <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n109"
         mdtype="fences" style="break-inside: unset;">/*
 * 需求：通过反射去获取该构造方法并使用：
 * public Person(String name, int age, String address)
 * 
 * Person p = new Person("张弛",18,"黑龙江");
 * System.out.println(p);
 */
public class ReflectDemo2 {
	public static void main(String[] args) throws Exception {
		// 获取字节码文件对象
		Class c = Class.forName("com.atguigu.demo01.Person");

		// 获取带参构造方法对象
		// public Constructor&lt;T&gt; getConstructor(Class&lt;?&gt;... parameterTypes)
		Constructor con = c.getConstructor(String.class, int.class,
				String.class);

		// 通过带参构造方法对象创建对象
		// public T newInstance(Object... initargs)
		Object obj = con.newInstance("张弛", 18, "黑龙江");
		
		System.out.println(obj);
	}
}

</pre>
    <h3><a name='header-n110' class='md-header-anchor '></a>1.3.3 通过反射获取私有构造方法并使用</h3>
    <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n111"
         mdtype="fences" style="break-inside: unset;">/*
 * 需求：通过反射获取私有构造方法并使用
 * private Person(String name){}
 * 
 * Person p = new Person("玛尔扎哈");
 * System.out.println(p);
 */
public class ReflectDemo3 {
	public static void main(String[] args) throws Exception {
		// 获取字节码文件对象
		Class c = Class.forName("com.atguigu.demo01.Person");

		// 获取私有构造方法对象
		// NoSuchMethodException：每个这个方法异常
		// 原因是一开始我们使用的方法只能获取公共的，下面这种方式就可以了。
		Constructor con = c.getDeclaredConstructor(String.class);

		// 用该私有构造方法创建对象
		// IllegalAccessException:非法的访问异常。
		// 暴力访问
		con.setAccessible(true);// 值为true则指示反射的对象在使用时应该取消Java语言访问检查。
		Object obj = con.newInstance("玛尔扎哈");

		System.out.println(obj);
	}
}
</pre>
    <h3><a name='header-n112' class='md-header-anchor '></a>1.3.4 通过反射获取成员变量并使用</h3>
    <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n113"
         mdtype="fences" style="break-inside: unset;">/*
 * 通过发生获取成员变量并使用
 */
public class ReflectDemo {
	public static void main(String[] args) throws Exception {
		// 获取字节码文件对象
		Class c = Class.forName("com.atguigu.demo01.Person");

		// 获取所有的成员变量
		// Field[] fields = c.getFields();
		// Field[] fields = c.getDeclaredFields(); 
		// for (Field field : fields) {
		// System.out.println(field);
		// }

		/*
		 * Person p = new Person(); p.address = "北京"; System.out.println(p);
		 */

		// 通过无参构造方法创建对象
		Constructor con = c.getConstructor();
		Object obj = con.newInstance();
		System.out.println(obj);

		// 获取单个的成员变量
		// 获取address并对其赋值
		Field addressField = c.getField("address");
		// public void set(Object obj,Object value)
		// 将指定对象变量上此 Field 对象表示的字段设置为指定的新值。
		addressField.set(obj, "北京"); // 给obj对象的addressField字段设置值为"北京"
		System.out.println(obj);

		// 获取name并对其赋值
		// NoSuchFieldException
		Field nameField = c.getDeclaredField("name");
		// IllegalAccessException
		nameField.setAccessible(true);
		nameField.set(obj, "玛尔扎哈");
		System.out.println(obj);

		// 获取age并对其赋值
		Field ageField = c.getDeclaredField("age");
		ageField.setAccessible(true);
		ageField.set(obj, 27);
		System.out.println(obj);
	}
}
</pre>
    <h3><a name='header-n114' class='md-header-anchor '></a>1.3.4 通过反射获取成员方法并使用</h3>
    <pre spellcheck="false" class="md-fences mock-cm md-end-block" lang="java" contenteditable="false" cid="n115"
         mdtype="fences" style="break-inside: unset;">import java.lang.reflect.Constructor;
import java.lang.reflect.Method;

public class ReflectDemo {
	public static void main(String[] args) throws Exception {
		// 获取字节码文件对象
		Class c = Class.forName("com.atguigu.demo01.Person");

		// 获取所有的方法
		// Method[] methods = c.getMethods(); // 获取自己的包括父亲的公共方法
		// Method[] methods = c.getDeclaredMethods(); // 获取自己的所有的方法
		// for (Method method : methods) {
		// System.out.println(method);
		// }

		Constructor con = c.getConstructor();
		Object obj = con.newInstance();

		/*
		 * Person p = new Person(); p.show();
		 */

		// 获取单个方法并使用
		// public void show()
		// public Method getMethod(String name,Class&lt;?&gt;... parameterTypes)
		// 第一个参数表示的方法名，第二个参数表示的是方法的参数的class类型
		Method m1 = c.getMethod("show");
		// obj.m1(); // 错误
		// public Object invoke(Object obj,Object... args)
		// 返回值是Object接收,第一个参数表示对象是谁，第二参数表示调用该方法的实际参数
		m1.invoke(obj); // 调用obj对象的m1方法

		System.out.println("----------");
		// public void method(String s)
		Method m2 = c.getMethod("method", String.class);
		m2.invoke(obj, "hello");
		System.out.println("----------");

		// public String getString(String s, int i)
		Method m3 = c.getMethod("getString", String.class, int.class);
		Object objString = m3.invoke(obj, "hello", 100);
		System.out.println(objString);
		// String s = (String)m3.invoke(obj, "hello",100);
		// System.out.println(s);
		System.out.println("----------");

		// private void function()
		Method m4 = c.getDeclaredMethod("function");
		m4.setAccessible(true);
		m4.invoke(obj);
	}
}

</pre>
    <h3><a name='header-n116' class='md-header-anchor '></a>1.3.5 动态创建和操作任意类型的数组</h3>
    <p>在java.lang.reflect包下还提供了一个Array类，Array对象可以代表所有的数组。程序可以通过使用Array类来动态的创建数组，操作数组元素等。</p>
    <p>Array类提供了如下几个方法：</p>
    <p>public static Object newInstance(Class&lt;?&gt; componentType, int... dimensions)：创建一个具有指定的组件类型和维度的新数组。</p>
    <p>public static void setXxx(Object array,int index,xxx
        value)：将array数组中[index]元素的值修改为value。此处的Xxx对应8种基本数据类型，如果该属性的类型是引用数据类型，则直接使用set(Object array,int index, Object
        value)方法。</p>
    <p>public static xxx getXxx(Object array,int index,xxx
        value)：将array数组中[index]元素的值返回。此处的Xxx对应8种基本数据类型，如果该属性的类型是引用数据类型，则直接使用get(Object array,int index)方法。</p>
    <pre spellcheck="false" class="md-fences md-end-block ty-contain-cm md-focus" lang="java"><div
            class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div
            style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 4px;"><textarea
            autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0"
            style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div
            class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler"
                                                                                 cm-not-content="true"></div><div
            class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"
                                                         style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div
            style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div
            role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div
            class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div
            class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline"
                                                                      style="position: relative;"><div
            class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div
            class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-keyword">import</span> <span class="cm-variable">java</span>.<span class="cm-variable">lang</span>.<span
            class="cm-variable">reflect</span>.<span class="cm-variable">Array</span>;</span></pre></div><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            cm-text="">​</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                                                     style="padding-right: 0.1px;"><span
            class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">TestArray</span> {</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">public</span> <span
            class="cm-keyword">static</span> <span class="cm-variable-3">void</span> <span
            class="cm-variable">main</span>(<span class="cm-variable-3">String</span>[] <span
            class="cm-variable">args</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-tab"
                                                                                                    role="presentation"
                                                                                                    cm-text="	">    </span><span
            class="cm-variable-3">Object</span> <span class="cm-variable">arr</span> <span class="cm-operator">=</span> <span
            class="cm-variable">Array</span>.<span class="cm-variable">newInstance</span>(<span class="cm-variable-3">String</span>.<span
            class="cm-keyword">class</span>, <span class="cm-number">5</span>);</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation"
                                                                               cm-text="	">    </span><span
            class="cm-variable">Array</span>.<span class="cm-variable">set</span>(<span class="cm-variable">arr</span>, <span
            class="cm-number">0</span>, <span class="cm-string">"尚硅谷"</span>);</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span
            class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation"
                                                                               cm-text="	">    </span><span
            class="cm-variable">Array</span>.<span class="cm-variable">set</span>(<span class="cm-variable">arr</span>, <span
            class="cm-number">1</span>, <span class="cm-string">"佟刚"</span>);</span></pre><pre class=" CodeMirror-line "
                                                                                               role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-tab"
                                                                                                    role="presentation"
                                                                                                    cm-text="	">    </span><span
            class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
            class="cm-variable">println</span>(<span class="cm-variable">Array</span>.<span
            class="cm-variable">get</span>(<span class="cm-variable">arr</span>, <span
            class="cm-number">0</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-tab"
                                                                                                    role="presentation"
                                                                                                    cm-text="	">    </span><span
            class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
            class="cm-variable">println</span>(<span class="cm-variable">Array</span>.<span
            class="cm-variable">get</span>(<span class="cm-variable">arr</span>, <span
            class="cm-number">1</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span><span class="cm-tab"
                                                                                                    role="presentation"
                                                                                                    cm-text="	">    </span><span
            class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span
            class="cm-variable">println</span>(<span class="cm-variable">Array</span>.<span
            class="cm-variable">get</span>(<span class="cm-variable">arr</span>, <span
            class="cm-number">2</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span
            role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation"
                                                                    cm-text="	">    </span>}</span></pre><pre
            class=" CodeMirror-line " role="presentation"><span role="presentation"
                                                                style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div
            style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 296px;"></div><div
            class="CodeMirror-gutters" style="display: none; height: 296px;"></div></div></div></pre>
    <figure>
        <table>
            <thead>
            <tr>
                <th style='text-align:right;'><a href='../javaSE.html'>回目录</a></th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style='text-align:right;'>教程版本：1.2 更新日期：2019年1月3日</td>
            </tr>
            </tbody>
        </table>
    </figure>
</div>
</body>
</html>